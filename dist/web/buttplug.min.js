!function webpackUniversalModuleDefinition(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["buttplug-commonjs"]=t():e.Buttplug=t()}("undefined"!=typeof self?self:this,function(){return function(e){function __webpack_require__(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,__webpack_require__),a.l=!0,a.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,r){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s="./src/index.ts")}({"./dependencies/buttplug-schema/schema/buttplug-schema.json":function(e,t){e.exports={$schema:"http://json-schema.org/draft-06/schema#",title:"Buttplug Message Schema",version:"0.1.0",description:"The JSON Protocol format for the Buttplug Protocol.",components:{Id:{description:"User-set id for the message. 0 denotes system message and is reserved.",type:"integer",minimum:0,maximum:4294967295},SystemId:{description:"Used for non-direct-reply messages that can only be sent from server to client, using the reserved system message Id of 0.",type:"integer",minimum:0,maximum:0},DeviceName:{description:"Name of the device",type:"string"},DeviceIndex:{description:"Index used for referencing the device in device messages.",type:"integer",minimum:0},IdMessage:{properties:{Id:{$ref:"#/components/Id"}},additionalProperties:!1,minProperties:1,maxProperties:1,required:["Id"]},DeviceMessages:{description:"A list of the messages a device will accept on this server implementation.",type:"array",items:{type:"string",minItems:1}},SystemIdMessage:{description:"Message sent by the server that is not in direct reply to a message send from the client, and always uses system Id.",properties:{Id:{$ref:"#/components/SystemId"}},additionalProperties:!1,minProperties:1,maxProperties:1,required:["Id"]},DeviceIndexMessage:{properties:{Id:{$ref:"#/components/Id"},DeviceIndex:{$ref:"#/components/DeviceIndex"}},additionalProperties:!1,minProperties:2,maxProperties:2,required:["Id","DeviceIndex"]}},messages:{Ok:{type:"object",description:"Signifies successful processing of the message indicated by the id.",anyOf:[{$ref:"#/components/IdMessage"}]},Ping:{type:"object",description:"Connection keep-alive message.",anyOf:[{$ref:"#/components/IdMessage"}]},Error:{type:"object",description:"Signifies the server encountered an error while processing the message indicated by the id.",properties:{Id:{$ref:"#/components/Id"},ErrorMessage:{type:"string"},ErrorCode:{type:"number",minimum:0,maximum:4}},additionalProperties:!1,minProperties:3,maxProperties:3,required:["Id","ErrorMessage","ErrorCode"]},Test:{type:"object",description:"Used for connection/application testing. Causes server to echo back the string sent. Sending string of 'Error' will result in a server error. ",properties:{Id:{$ref:"#/components/Id"},TestString:{description:"String to be echo'd back from server. Setting this to 'Error' will cause an error to be thrown.",type:"string"}},minProperties:2,maxProperties:2,additionalProperties:!1,required:["Id","TestString"]},DeviceList:{type:"object",description:"List of all available devices known to the system.",properties:{Id:{$ref:"#/components/Id"},Devices:{description:"Array of device ids and names.",type:"array",items:{properties:{DeviceName:{$ref:"#/components/DeviceName"},DeviceIndex:{$ref:"#/components/DeviceIndex"},DeviceMessages:{$ref:"#/components/DeviceMessages"}},minProperties:3,maxProperties:3,additionalProperties:!1,required:["DeviceName","DeviceIndex","DeviceMessages"]}}},minProperties:2,maxProperties:2,additionalProperties:!1,required:["Id","Devices"]},DeviceAdded:{type:"object",description:"Notifies client that a device of a certain type has been added to the server.",properties:{Id:{$ref:"#/components/SystemId"},DeviceName:{$ref:"#/components/DeviceName"},DeviceIndex:{$ref:"#/components/DeviceIndex"},DeviceMessages:{$ref:"#/components/DeviceMessages"}},minProperties:4,maxProperties:4,additionalProperties:!1,required:["Id","DeviceName","DeviceIndex","DeviceMessages"]},DeviceRemoved:{type:"object",description:"Notifies client that a device of a certain type has been removed from the server.",anyOf:[{$ref:"#/components/DeviceIndexMessage"}]},RequestDeviceList:{type:"object",description:"Request for the server to send a list of devices to the client.",anyOf:[{$ref:"#/components/IdMessage"}]},StartScanning:{type:"object",description:"Request for the server to start scanning for new devices.",anyOf:[{$ref:"#/components/IdMessage"}]},StopScanning:{type:"object",description:"Request for the server to stop scanning for new devices.",anyOf:[{$ref:"#/components/IdMessage"}]},ScanningFinished:{type:"object",description:"Server notification to client that scanning has ended.",anyOf:[{$ref:"#/components/SystemIdMessage"}]},RequestLog:{type:"object",description:"Request for server to stream log messages of a certain level to client.",properties:{Id:{$ref:"#/components/Id"},LogLevel:{description:"Maximum level of log message to receive.",enum:["Off","Fatal","Error","Warn","Info","Debug","Trace"]}},minProperties:2,maxProperties:2,additionalProperties:!1,required:["Id","LogLevel"]},Log:{type:"object",description:"Log message from the server.",properties:{Id:{$ref:"#/components/SystemId"},LogLevel:{description:"Log level of message.",enum:["Off","Fatal","Error","Warn","Info","Debug","Trace"]},LogMessage:{description:"Log message from server.",type:"string"}},minProperties:3,maxProperties:3,additionalProperties:!1,required:["Id","LogLevel","LogMessage"]},RequestServerInfo:{type:"object",description:"Request server version, and relay client name.",properties:{Id:{$ref:"#/components/Id"},ClientName:{description:"Name of the client software.",type:"string"}},minProperties:2,maxProperties:2,additionalProperties:!1,required:["Id","ClientName"]},ServerInfo:{type:"object",description:"Server version information, in Major.Minor.Build format.",properties:{Id:{$ref:"#/components/Id"},ServerName:{description:"Name of the server. Can be 0-length.",type:"string"},MessageVersion:{description:"Message template version of the server software.",type:"integer",minimum:0},MajorVersion:{description:"Major version of server.",type:"integer",minimum:0},MinorVersion:{description:"Minor version of server.",type:"integer",minimum:0},BuildVersion:{description:"Build version of server.",type:"integer",minimum:0},MaxPingTime:{description:"Maximum time (in milliseconds) the server will wait between ping messages from client before shutting down.",type:"integer",minimum:0}},minProperties:7,maxProperties:7,additionalProperties:!1,required:["Id","MajorVersion","MinorVersion","BuildVersion","MessageVersion","MaxPingTime","ServerName"]},FleshlightLaunchFW12Cmd:{type:"object",description:"Sends speed and position command to the Fleshlight Launch Device denoted by the device index.",properties:{Id:{$ref:"#/components/Id"},DeviceIndex:{$ref:"#/components/DeviceIndex"},Speed:{description:"Speed at which to move to designated position.",type:"integer",minimum:0,maximum:99},Position:{description:"Position to which to move Fleshlight.",type:"integer",minimum:0,maximum:99}},minProperties:4,maxProperties:4,additionalProperties:!1,required:["Id","DeviceIndex","Speed","Position"]},LovenseCmd:{type:"object",description:"Sends a command string to a Lovense device. Command string will be verified by sender.",properties:{Id:{$ref:"#/components/Id"},DeviceIndex:{$ref:"#/components/DeviceIndex"},Command:{description:"Command to send to Lovense device.",type:"string"}},minProperties:3,maxProperties:3,additionalProperties:!1,required:["Id","DeviceIndex","Command"]},SingleMotorVibrateCmd:{type:"object",description:"Sends a vibrate command to a device that supports vibration.",properties:{Id:{$ref:"#/components/Id"},DeviceIndex:{$ref:"#/components/DeviceIndex"},Speed:{description:"Device vibration speed (floating point, 0 < x < 1), stepping will be device specific.",type:"number",minimum:0,maximum:1}},minProperties:3,maxProperties:3,additionalProperties:!1,required:["Id","DeviceIndex","Speed"]},RawCmd:{type:"object",description:"Sends a raw byte array to a device. Should only be used for testing/development.",properties:{Id:{$ref:"#/components/Id"},DeviceIndex:{$ref:"#/components/DeviceIndex"},Command:{description:"Raw byte string to send to device.",type:"array",items:{type:"integer",minimum:0,maximum:255,minItems:1}}},minProperties:3,maxProperties:3,additionalProperties:!1,required:["Id","DeviceIndex","Command"]},KiirooCmd:{type:"object",description:"Sends a raw byte string to a Kiiroo Onyx/Pearl device.",properties:{Id:{$ref:"#/components/Id"},DeviceIndex:{$ref:"#/components/DeviceIndex"},Command:{description:"Command to send to Kiiroo device.",type:"string"}},minProperties:3,maxProperties:3,additionalProperties:!1,required:["Id","DeviceIndex","Command"]},VorzeA10CycloneCmd:{type:"object",description:"Sends a raw byte string to a Kiiroo Onyx/Pearl device.",properties:{Id:{$ref:"#/components/Id"},DeviceIndex:{$ref:"#/components/DeviceIndex"},Speed:{description:"Rotation speed command for the Cyclone.",type:"integer",minimum:0,maximum:100},Clockwise:{description:"True for clockwise rotation (in relation to device facing user), false for Counter-clockwise",type:"boolean"}},minProperties:4,maxProperties:4,additionalProperties:!1,required:["Id","DeviceIndex","Speed","Clockwise"]},StopDeviceCmd:{type:"object",description:"Stops the all actions currently being taken by a device.",properties:{Id:{$ref:"#/components/Id"},DeviceIndex:{$ref:"#/components/DeviceIndex"}},minProperties:2,maxProperties:2,additionalProperties:!1,required:["Id","DeviceIndex"]},StopAllDevices:{type:"object",description:"Stops all actions currently being taken by all connected devices.",anyOf:[{$ref:"#/components/IdMessage"}]}},type:"array",items:{title:"Messages",description:"One or more messages validated by the Buttplug Message schema list.",properties:{Ok:{$ref:"#/messages/Ok"},Error:{$ref:"#/messages/Error"},Ping:{$ref:"#/messages/Ping"},Test:{$ref:"#/messages/Test"},DeviceList:{$ref:"#/messages/DeviceList"},DeviceAdded:{$ref:"#/messages/DeviceAdded"},DeviceRemoved:{$ref:"#/messages/DeviceRemoved"},RequestDeviceList:{$ref:"#/messages/RequestDeviceList"},StopDeviceCmd:{$ref:"#/messages/StopDeviceCmd"},StopAllDevices:{$ref:"#/messages/StopAllDevices"},StartScanning:{$ref:"#/messages/StartScanning"},StopScanning:{$ref:"#/messages/StopScanning"},ScanningFinished:{$ref:"#/messages/ScanningFinished"},RequestLog:{$ref:"#/messages/RequestLog"},Log:{$ref:"#/messages/Log"},RequestServerInfo:{$ref:"#/messages/RequestServerInfo"},ServerInfo:{$ref:"#/messages/ServerInfo"},FleshlightLaunchFW12Cmd:{$ref:"#/messages/FleshlightLaunchFW12Cmd"},LovenseCmd:{$ref:"#/messages/LovenseCmd"},SingleMotorVibrateCmd:{$ref:"#/messages/SingleMotorVibrateCmd"},KiirooCmd:{$ref:"#/messages/KiirooCmd"},RawCmd:{$ref:"#/messages/RawCmd"},VorzeA10CycloneCmd:{$ref:"#/messages/VorzeA10CycloneCmd"}},additionalProperties:!1,minProperties:1,maxProperties:1},minItems:1,additionalProperties:!1}},"./node_modules/ajv/lib/$data.js":function(e,t,r){"use strict";var a=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(e,t){for(var r=0;r<t.length;r++){e=JSON.parse(JSON.stringify(e));var o,n=t[r].split("/"),s=e;for(o=1;o<n.length;o++)s=s[n[o]];for(o=0;o<a.length;o++){var i=a[o],c=s[i];c&&(s[i]={anyOf:[c,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#"}]})}}return e}},"./node_modules/ajv/lib/ajv.js":function(e,t,r){"use strict";function Ajv(e){if(!(this instanceof Ajv))return new Ajv(e);e=this._opts=f.copy(e)||{},function setLogger(e){var t=e._opts.logger;if(!1===t)e.logger={log:noop,warn:noop,error:noop};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=c(e.format);var t=this._schemaUriFormat=this._formats["uri-reference"];this._schemaUriFormatFunc=function(e){return t.test(e)},this._cache=e.cache||new n,this._loadingSchemas={},this._compilations=[],this.RULES=u(),this._getId=function chooseGetId(e){switch(e.schemaId){case"$id":return _get$Id;case"id":return _getId;default:return _get$IdOrId}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=i),this._metaOpts=function getMetaSchemaOptions(e){for(var t=f.copy(e._opts),r=0;r<g.length;r++)delete t[g[r]];return t}(this),e.formats&&function addInitialFormats(e){for(var t in e._opts.formats){var r=e._opts.formats[t];e.addFormat(t,r)}}(this),function addDraft6MetaSchema(e){var t;e._opts.$data&&(t=r("./node_modules/ajv/lib/refs/$data.json"),e.addMetaSchema(t,t.$id,!0));if(!1===e._opts.meta)return;var a=r("./node_modules/ajv/lib/refs/json-schema-draft-06.json");e._opts.$data&&(a=l(a,y));e.addMetaSchema(a,m,!0),e._refs["http://json-schema.org/schema"]=m}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),function addInitialSchemas(e){var t=e._opts.schemas;if(!t)return;if(Array.isArray(t))e.addSchema(t);else for(var r in t)e.addSchema(t[r],r)}(this),e.patternGroups&&d(this)}function _getSchemaObj(e,t){return t=o.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function _removeAllSchemas(e,t,r){for(var a in t){var o=t[a];o.meta||r&&!r.test(a)||(e._cache.del(o.cacheKey),delete t[a])}}function _getId(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function _get$Id(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function _get$IdOrId(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function checkUnique(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function noop(){}var a=r("./node_modules/ajv/lib/compile/index.js"),o=r("./node_modules/ajv/lib/compile/resolve.js"),n=r("./node_modules/ajv/lib/cache.js"),s=r("./node_modules/ajv/lib/compile/schema_obj.js"),i=r("./node_modules/fast-json-stable-stringify/index.js"),c=r("./node_modules/ajv/lib/compile/formats.js"),u=r("./node_modules/ajv/lib/compile/rules.js"),l=r("./node_modules/ajv/lib/$data.js"),d=r("./node_modules/ajv/lib/patternGroups.js"),f=r("./node_modules/ajv/lib/compile/util.js"),h=r("./node_modules/co/index.js");e.exports=Ajv,Ajv.prototype.validate=function validate(e,t){var r;if("string"==typeof e){if(!(r=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var a=this._addSchema(e);r=a.validate||this._compile(a)}var o=r(t);return!0===r.$async?"*"==this._opts.async?h(o):o:(this.errors=r.errors,o)},Ajv.prototype.compile=function compile(e,t){var r=this._addSchema(e,void 0,t);return r.validate||this._compile(r)},Ajv.prototype.addSchema=function addSchema(e,t,r,a){if(Array.isArray(e)){for(var n=0;n<e.length;n++)this.addSchema(e[n],void 0,r,a);return this}var s=this._getId(e);if(void 0!==s&&"string"!=typeof s)throw new Error("schema id must be string");return t=o.normalizeId(t||s),checkUnique(this,t),this._schemas[t]=this._addSchema(e,r,a,!0),this},Ajv.prototype.addMetaSchema=function addMetaSchema(e,t,r){return this.addSchema(e,t,r,!0),this},Ajv.prototype.validateSchema=function validateSchema(e,t){var r=e.$schema;if(void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(!(r=r||this._opts.defaultMeta||function defaultMeta(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(m)?m:void 0,e._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var a=this._formats.uri;this._formats.uri="function"==typeof a?this._schemaUriFormatFunc:this._schemaUriFormat;var o;try{o=this.validate(r,e)}finally{this._formats.uri=a}if(!o&&t){var n="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(n);this.logger.error(n)}return o},Ajv.prototype.getSchema=function getSchema(e){var t=_getSchemaObj(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function _getSchemaFragment(e,t){var r=o.schema.call(e,{schema:{}},t);if(r){var n=r.schema,i=r.root,c=r.baseId,u=a.call(e,n,i,void 0,c);return e._fragments[t]=new s({ref:t,fragment:!0,schema:n,root:i,baseId:c,validate:u}),u}}(this,e)}},Ajv.prototype.removeSchema=function removeSchema(e){if(e instanceof RegExp)return _removeAllSchemas(this,this._schemas,e),_removeAllSchemas(this,this._refs,e),this;switch(typeof e){case"undefined":return _removeAllSchemas(this,this._schemas),_removeAllSchemas(this,this._refs),this._cache.clear(),this;case"string":var t=_getSchemaObj(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var r=this._opts.serialize,a=r?r(e):e;this._cache.del(a);var n=this._getId(e);n&&(n=o.normalizeId(n),delete this._schemas[n],delete this._refs[n])}return this},Ajv.prototype.addFormat=function addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this._formats[e]=t,this},Ajv.prototype.errorsText=function errorsText(e,t){if(!(e=e||this.errors))return"No errors";for(var r=void 0===(t=t||{}).separator?", ":t.separator,a=void 0===t.dataVar?"data":t.dataVar,o="",n=0;n<e.length;n++){var s=e[n];s&&(o+=a+s.dataPath+" "+s.message+r)}return o.slice(0,-r.length)},Ajv.prototype._addSchema=function _addSchema(e,t,r,a){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var n=this._opts.serialize,i=n?n(e):e,c=this._cache.get(i);if(c)return c;a=a||!1!==this._opts.addUsedSchema;var u=o.normalizeId(this._getId(e));u&&a&&checkUnique(this,u);var l,d=!1!==this._opts.validateSchema&&!t;d&&!(l=u&&u==o.normalizeId(e.$schema))&&this.validateSchema(e,!0);var f=o.ids.call(this,e),h=new s({id:u,schema:e,localRefs:f,cacheKey:i,meta:r});return"#"!=u[0]&&a&&(this._refs[u]=h),this._cache.put(i,h),d&&l&&this.validateSchema(e,!0),h},Ajv.prototype._compile=function _compile(e,t){function callValidate(){var t=e.validate,r=t.apply(null,arguments);return callValidate.errors=t.errors,r}if(e.compiling)return e.validate=callValidate,callValidate.schema=e.schema,callValidate.errors=null,callValidate.root=t||callValidate,!0===e.schema.$async&&(callValidate.$async=!0),callValidate;e.compiling=!0;var r;e.meta&&(r=this._opts,this._opts=this._metaOpts);var o;try{o=a.call(this,e.schema,t,e.localRefs)}finally{e.compiling=!1,e.meta&&(this._opts=r)}return e.validate=o,e.refs=o.refs,e.refVal=o.refVal,e.root=o.root,o},Ajv.prototype.compileAsync=r("./node_modules/ajv/lib/compile/async.js");var p=r("./node_modules/ajv/lib/keyword.js");Ajv.prototype.addKeyword=p.add,Ajv.prototype.getKeyword=p.get,Ajv.prototype.removeKeyword=p.remove;var v=r("./node_modules/ajv/lib/compile/error_classes.js");Ajv.ValidationError=v.Validation,Ajv.MissingRefError=v.MissingRef,Ajv.$dataMetaSchema=l;var m="http://json-schema.org/draft-06/schema",g=["removeAdditional","useDefaults","coerceTypes"],y=["/properties"]},"./node_modules/ajv/lib/cache.js":function(e,t,r){"use strict";var a=e.exports=function Cache(){this._cache={}};a.prototype.put=function Cache_put(e,t){this._cache[e]=t},a.prototype.get=function Cache_get(e){return this._cache[e]},a.prototype.del=function Cache_del(e){delete this._cache[e]},a.prototype.clear=function Cache_clear(){this._cache={}}},"./node_modules/ajv/lib/compile/_rules.js":function(e,t,r){"use strict";e.exports={$ref:r("./node_modules/ajv/lib/dotjs/ref.js"),allOf:r("./node_modules/ajv/lib/dotjs/allOf.js"),anyOf:r("./node_modules/ajv/lib/dotjs/anyOf.js"),const:r("./node_modules/ajv/lib/dotjs/const.js"),contains:r("./node_modules/ajv/lib/dotjs/contains.js"),dependencies:r("./node_modules/ajv/lib/dotjs/dependencies.js"),enum:r("./node_modules/ajv/lib/dotjs/enum.js"),format:r("./node_modules/ajv/lib/dotjs/format.js"),items:r("./node_modules/ajv/lib/dotjs/items.js"),maximum:r("./node_modules/ajv/lib/dotjs/_limit.js"),minimum:r("./node_modules/ajv/lib/dotjs/_limit.js"),maxItems:r("./node_modules/ajv/lib/dotjs/_limitItems.js"),minItems:r("./node_modules/ajv/lib/dotjs/_limitItems.js"),maxLength:r("./node_modules/ajv/lib/dotjs/_limitLength.js"),minLength:r("./node_modules/ajv/lib/dotjs/_limitLength.js"),maxProperties:r("./node_modules/ajv/lib/dotjs/_limitProperties.js"),minProperties:r("./node_modules/ajv/lib/dotjs/_limitProperties.js"),multipleOf:r("./node_modules/ajv/lib/dotjs/multipleOf.js"),not:r("./node_modules/ajv/lib/dotjs/not.js"),oneOf:r("./node_modules/ajv/lib/dotjs/oneOf.js"),pattern:r("./node_modules/ajv/lib/dotjs/pattern.js"),properties:r("./node_modules/ajv/lib/dotjs/properties.js"),propertyNames:r("./node_modules/ajv/lib/dotjs/propertyNames.js"),required:r("./node_modules/ajv/lib/dotjs/required.js"),uniqueItems:r("./node_modules/ajv/lib/dotjs/uniqueItems.js"),validate:r("./node_modules/ajv/lib/dotjs/validate.js")}},"./node_modules/ajv/lib/compile/async.js":function(e,t,r){"use strict";function compileAsync(e,t,r){function loadMetaSchemaOf(e){var t=e.$schema;return t&&!o.getSchema(t)?compileAsync.call(o,{$ref:t},!0):Promise.resolve()}function _compileAsync(e){try{return o._compile(e)}catch(r){if(r instanceof a)return function loadMissingSchema(r){function removePromise(){delete o._loadingSchemas[a]}function added(e){return o._refs[e]||o._schemas[e]}var a=r.missingSchema;if(added(a))throw new Error("Schema "+a+" is loaded but "+r.missingRef+" cannot be resolved");var n=o._loadingSchemas[a];return n||(n=o._loadingSchemas[a]=o._opts.loadSchema(a)).then(removePromise,removePromise),n.then(function(e){if(!added(a))return loadMetaSchemaOf(e).then(function(){added(a)||o.addSchema(e,a,void 0,t)})}).then(function(){return _compileAsync(e)})}(r);throw r}}var o=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof t&&(r=t,t=void 0);var n=loadMetaSchemaOf(e).then(function(){var r=o._addSchema(e,void 0,t);return r.validate||_compileAsync(r)});return r&&n.then(function(e){r(null,e)},r),n}var a=r("./node_modules/ajv/lib/compile/error_classes.js").MissingRef;e.exports=compileAsync},"./node_modules/ajv/lib/compile/error_classes.js":function(e,t,r){"use strict";function MissingRefError(e,t,r){this.message=r||MissingRefError.message(e,t),this.missingRef=a.url(e,t),this.missingSchema=a.normalizeId(a.fullPath(this.missingRef))}function errorSubclass(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var a=r("./node_modules/ajv/lib/compile/resolve.js");e.exports={Validation:errorSubclass(function ValidationError(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0}),MissingRef:errorSubclass(MissingRefError)},MissingRefError.message=function(e,t){return"can't resolve reference "+t+" from id "+e}},"./node_modules/ajv/lib/compile/formats.js":function(e,t,r){"use strict";function formats(e){return e="full"==e?"full":"fast",a.copy(formats[e])}function date(e){var t=e.match(o);if(!t)return!1;var r=+t[1],a=+t[2];return r>=1&&r<=12&&a>=1&&a<=n[r]}function time(e,t){var r=e.match(s);if(!r)return!1;var a=r[1],o=r[2],n=r[3],i=r[5];return a<=23&&o<=59&&n<=59&&(!t||i)}function regex(e){if(m.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}}var a=r("./node_modules/ajv/lib/compile/util.js"),o=/^\d\d\d\d-(\d\d)-(\d\d)$/,n=[0,31,29,31,30,31,30,31,31,30,31,30,31],s=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,i=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,c=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,u=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,l=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,d=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,f=/^(?:\/(?:[^~/]|~0|~1)*)*$|^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,h=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;e.exports=formats,formats.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^[0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s][0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*)(?::|\/)\/?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/\/)?[^\s]*$/i,"uri-template":u,url:l,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:regex,uuid:d,"json-pointer":f,"relative-json-pointer":h},formats.full={date:date,time:time,"date-time":function date_time(e){var t=e.split(p);return 2==t.length&&date(t[0])&&time(t[1],!0)},uri:function uri(e){return v.test(e)&&c.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":u,url:l,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&''*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:function hostname(e){return e.length<=255&&i.test(e)},ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:regex,uuid:d,"json-pointer":f,"relative-json-pointer":h};var p=/t|\s/i,v=/\/|:/,m=/[^\\]\\Z/},"./node_modules/ajv/lib/compile/index.js":function(e,t,r){"use strict";function compile(e,t,r,f){function callValidate(){var e=S.validate,t=e.apply(null,arguments);return callValidate.errors=e.errors,t}function localCompile(e,r,s,f){var y=!r||r&&r.schema==e;if(r.schema!=t.schema)return compile.call(h,e,r,s,f);var b=!0===e.$async,w=i({isTop:!0,schema:e,isRoot:y,baseId:f,root:r,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:n.MissingRef,RULES:E,validate:i,util:o,resolve:a,resolveRef:resolveRef,usePattern:usePattern,useDefault:useDefault,useCustomRule:useCustomRule,opts:p,formats:j,logger:h.logger,self:h});w=vars(v,refValCode)+vars(g,patternCode)+vars(_,defaultCode)+vars(P,customRuleCode)+w,p.processCode&&(w=p.processCode(w));var S;try{S=new Function("self","RULES","formats","root","refVal","defaults","customRules","co","equal","ucs2length","ValidationError",w)(h,E,j,t,v,_,P,c,l,u,d),v[0]=S}catch(e){throw h.logger.error("Error compiling schema, function code:",w),e}return S.schema=e,S.errors=null,S.refs=m,S.refVal=v,S.root=y?S:r,b&&(S.$async=!0),!0===p.sourceCode&&(S.source={code:w,patterns:g,defaults:_}),S}function resolveRef(e,o,n){o=a.url(e,o);var s,i,c=m[o];if(void 0!==c)return s=v[c],i="refVal["+c+"]",resolvedRef(s,i);if(!n&&t.refs){var u=t.refs[o];if(void 0!==u)return s=t.refVal[u],i=addLocalRef(o,s),resolvedRef(s,i)}i=addLocalRef(o);var l=a.call(h,localCompile,t,o);if(void 0===l){var d=r&&r[o];d&&(l=a.inlineRef(d,p.inlineRefs)?d:compile.call(h,d,t,r,e))}if(void 0!==l)return function replaceLocalRef(e,t){var r=m[e];v[r]=t}(o,l),resolvedRef(l,i);!function removeLocalRef(e){delete m[e]}(o)}function addLocalRef(e,t){var r=v.length;return v[r]=t,m[e]=r,"refVal"+r}function resolvedRef(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&e.$async}}function usePattern(e){var t=y[e];return void 0===t&&(t=y[e]=g.length,g[t]=e),"pattern"+t}function useDefault(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return o.toQuotedString(e);case"object":if(null===e)return"null";var t=s(e),r=b[t];return void 0===r&&(r=b[t]=_.length,_[r]=e),"default"+r}}function useCustomRule(e,t,r,a){var o=e.definition.validateSchema;if(o&&!1!==h._opts.validateSchema){if(!o(t)){var n="keyword schema is invalid: "+h.errorsText(o.errors);if("log"!=h._opts.validateSchema)throw new Error(n);h.logger.error(n)}}var s,i=e.definition.compile,c=e.definition.inline,u=e.definition.macro;if(i)s=i.call(h,t,r,a);else if(u)s=u.call(h,t,r,a),!1!==p.validateSchema&&h.validateSchema(s,!0);else if(c)s=c.call(h,a,e.keyword,t,r);else if(!(s=e.definition.validate))return;if(void 0===s)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var l=P.length;return P[l]=s,{code:"customRule"+l,validate:s}}var h=this,p=this._opts,v=[void 0],m={},g=[],y={},_=[],b={},P=[],w=function checkCompiling(e,t,r){var a=compIndex.call(this,e,t,r);return a>=0?{index:a,compiling:!0}:(a=this._compilations.length,this._compilations[a]={schema:e,root:t,baseId:r},{index:a,compiling:!1})}.call(this,e,t=t||{schema:e,refVal:v,refs:m},f),S=this._compilations[w.index];if(w.compiling)return S.callValidate=callValidate;var j=this._formats,E=this.RULES;try{var O=localCompile(e,t,r,f);S.validate=O;var x=S.callValidate;return x&&(x.schema=O.schema,x.errors=null,x.refs=O.refs,x.refVal=O.refVal,x.root=O.root,x.$async=O.$async,p.sourceCode&&(x.source=O.source)),O}finally{(function endCompiling(e,t,r){var a=compIndex.call(this,e,t,r);a>=0&&this._compilations.splice(a,1)}).call(this,e,t,f)}}function compIndex(e,t,r){for(var a=0;a<this._compilations.length;a++){var o=this._compilations[a];if(o.schema==e&&o.root==t&&o.baseId==r)return a}return-1}function patternCode(e,t){return"var pattern"+e+" = new RegExp("+o.toQuotedString(t[e])+");"}function defaultCode(e){return"var default"+e+" = defaults["+e+"];"}function refValCode(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function customRuleCode(e){return"var customRule"+e+" = customRules["+e+"];"}function vars(e,t){if(!e.length)return"";for(var r="",a=0;a<e.length;a++)r+=t(a,e);return r}var a=r("./node_modules/ajv/lib/compile/resolve.js"),o=r("./node_modules/ajv/lib/compile/util.js"),n=r("./node_modules/ajv/lib/compile/error_classes.js"),s=r("./node_modules/fast-json-stable-stringify/index.js"),i=r("./node_modules/ajv/lib/dotjs/validate.js"),c=r("./node_modules/co/index.js"),u=o.ucs2length,l=r("./node_modules/fast-deep-equal/index.js"),d=n.Validation;e.exports=compile},"./node_modules/ajv/lib/compile/resolve.js":function(e,t,r){"use strict";function resolve(e,t,r){var a=this._refs[r];if("string"==typeof a){if(!this._refs[a])return resolve.call(this,e,t,a);a=this._refs[a]}if((a=a||this._schemas[r])instanceof s)return inlineRef(a.schema,this._opts.inlineRefs)?a.schema:a.validate||this._compile(a);var o,n,i,c=resolveSchema.call(this,t,r);return c&&(o=c.schema,t=c.root,i=c.baseId),o instanceof s?n=o.validate||e.call(this,o.schema,t,void 0,i):void 0!==o&&(n=inlineRef(o,this._opts.inlineRefs)?o:e.call(this,o,t,void 0,i)),n}function resolveSchema(e,t){var r=a.parse(t,!1,!0),o=_getFullPath(r),n=getFullPath(this._getId(e.schema));if(o!==n){var i=normalizeId(o),c=this._refs[i];if("string"==typeof c)return function resolveRecursive(e,t,r){var a=resolveSchema.call(this,e,t);if(a){var o=a.schema,n=a.baseId;e=a.root;var s=this._getId(o);return s&&(n=resolveUrl(n,s)),getJsonPointer.call(this,r,n,o,e)}}.call(this,e,c,r);if(c instanceof s)c.validate||this._compile(c),e=c;else{if(!((c=this._schemas[i])instanceof s))return;if(c.validate||this._compile(c),i==normalizeId(t))return{schema:c,root:e,baseId:n};e=c}if(!e.schema)return;n=getFullPath(this._getId(e.schema))}return getJsonPointer.call(this,r,n,e.schema,e)}function getJsonPointer(e,t,r,a){if(e.hash=e.hash||"","#/"==e.hash.slice(0,2)){for(var o=e.hash.split("/"),s=1;s<o.length;s++){var i=o[s];if(i){if(i=n.unescapeFragment(i),void 0===(r=r[i]))break;var u;if(!c[i]&&((u=this._getId(r))&&(t=resolveUrl(t,u)),r.$ref)){var l=resolveUrl(t,r.$ref),d=resolveSchema.call(this,a,l);d&&(r=d.schema,a=d.root,t=d.baseId)}}}return void 0!==r&&r!==a.schema?{schema:r,root:a,baseId:t}:void 0}}function inlineRef(e,t){return!1!==t&&(void 0===t||!0===t?checkNoRef(e):t?countKeys(e)<=t:void 0)}function checkNoRef(e){var t;if(Array.isArray(e)){for(var r=0;r<e.length;r++)if("object"==typeof(t=e[r])&&!checkNoRef(t))return!1}else for(var a in e){if("$ref"==a)return!1;if("object"==typeof(t=e[a])&&!checkNoRef(t))return!1}return!0}function countKeys(e){var t,r=0;if(Array.isArray(e)){for(var a=0;a<e.length;a++)if("object"==typeof(t=e[a])&&(r+=countKeys(t)),r==1/0)return 1/0}else for(var o in e){if("$ref"==o)return 1/0;if(u[o])r++;else if("object"==typeof(t=e[o])&&(r+=countKeys(t)+1),r==1/0)return 1/0}return r}function getFullPath(e,t){!1!==t&&(e=normalizeId(e));return _getFullPath(a.parse(e,!1,!0))}function _getFullPath(e){var t=e.protocol||"//"==e.href.slice(0,2)?"//":"";return(e.protocol||"")+t+(e.host||"")+(e.path||"")+"#"}function normalizeId(e){return e?e.replace(l,""):""}function resolveUrl(e,t){return t=normalizeId(t),a.resolve(e,t)}var a=r("./node_modules/url/url.js"),o=r("./node_modules/fast-deep-equal/index.js"),n=r("./node_modules/ajv/lib/compile/util.js"),s=r("./node_modules/ajv/lib/compile/schema_obj.js"),i=r("./node_modules/json-schema-traverse/index.js");e.exports=resolve,resolve.normalizeId=normalizeId,resolve.fullPath=getFullPath,resolve.url=resolveUrl,resolve.ids=function resolveIds(e){var t=normalizeId(this._getId(e)),r={"":t},s={"":getFullPath(t,!1)},c={},u=this;return i(e,{allKeys:!0},function(e,t,i,l,d,f,h){if(""!==t){var p=u._getId(e),v=r[l],m=s[l]+"/"+d;if(void 0!==h&&(m+="/"+("number"==typeof h?h:n.escapeFragment(h))),"string"==typeof p){p=v=normalizeId(v?a.resolve(v,p):p);var g=u._refs[p];if("string"==typeof g&&(g=u._refs[g]),g&&g.schema){if(!o(e,g.schema))throw new Error('id "'+p+'" resolves to more than one schema')}else if(p!=normalizeId(m))if("#"==p[0]){if(c[p]&&!o(e,c[p]))throw new Error('id "'+p+'" resolves to more than one schema');c[p]=e}else u._refs[p]=m}r[t]=v,s[t]=m}}),c},resolve.inlineRef=inlineRef,resolve.schema=resolveSchema;var c=n.toHash(["properties","patternProperties","enum","dependencies","definitions"]),u=n.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]),l=/#\/?$/},"./node_modules/ajv/lib/compile/rules.js":function(e,t,r){"use strict";var a=r("./node_modules/ajv/lib/compile/_rules.js"),o=r("./node_modules/ajv/lib/compile/util.js").toHash;e.exports=function rules(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","uniqueItems","contains","items"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf"]}],t=["type"];return e.all=o(t),e.types=o(["number","integer","string","array","object","boolean","null"]),e.forEach(function(r){r.rules=r.rules.map(function(r){var o;if("object"==typeof r){var n=Object.keys(r)[0];o=r[n],r=n,o.forEach(function(r){t.push(r),e.all[r]=!0})}t.push(r);return e.all[r]={keyword:r,code:a[r],implements:o}}),r.type&&(e.types[r.type]=r)}),e.keywords=o(t.concat(["additionalItems","$schema","$id","id","title","description","default","definitions"])),e.custom={},e}},"./node_modules/ajv/lib/compile/schema_obj.js":function(e,t,r){"use strict";var a=r("./node_modules/ajv/lib/compile/util.js");e.exports=function SchemaObject(e){a.copy(e,this)}},"./node_modules/ajv/lib/compile/ucs2length.js":function(e,t,r){"use strict";e.exports=function ucs2length(e){for(var t,r=0,a=e.length,o=0;o<a;)r++,(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<a&&56320==(64512&(t=e.charCodeAt(o)))&&o++;return r}},"./node_modules/ajv/lib/compile/util.js":function(e,t,r){"use strict";function checkDataType(e,t,r){var a=r?" !== ":" === ",o=r?" || ":" && ",n=r?"!":"",s=r?"":"!";switch(e){case"null":return t+a+"null";case"array":return n+"Array.isArray("+t+")";case"object":return"("+n+t+o+"typeof "+t+a+'"object"'+o+s+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+a+'"number"'+o+s+"("+t+" % 1)"+o+t+a+t+")";default:return"typeof "+t+a+'"'+e+'"'}}function toHash(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return t}function getProperty(e){return"number"==typeof e?"["+e+"]":o.test(e)?"."+e:"['"+escapeQuotes(e)+"']"}function escapeQuotes(e){return e.replace(n,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function toQuotedString(e){return"'"+escapeQuotes(e)+"'"}function joinPaths(e,t){return'""'==e?t:(e+" + "+t).replace(/' \+ '/g,"")}function escapeJsonPointer(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function unescapeJsonPointer(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}e.exports={copy:function copy(e,t){t=t||{};for(var r in e)t[r]=e[r];return t},checkDataType:checkDataType,checkDataTypes:function checkDataTypes(e,t){switch(e.length){case 1:return checkDataType(e[0],t,!0);default:var r="",a=toHash(e);a.array&&a.object&&(r=a.null?"(":"(!"+t+" || ",r+="typeof "+t+' !== "object")',delete a.null,delete a.array,delete a.object),a.number&&delete a.integer;for(var o in a)r+=(r?" && ":"")+checkDataType(o,t,!0);return r}},coerceToTypes:function coerceToTypes(e,t){if(Array.isArray(t)){for(var r=[],o=0;o<t.length;o++){var n=t[o];a[n]?r[r.length]=n:"array"===e&&"array"===n&&(r[r.length]=n)}if(r.length)return r}else{if(a[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:toHash,getProperty:getProperty,escapeQuotes:escapeQuotes,equal:r("./node_modules/fast-deep-equal/index.js"),ucs2length:r("./node_modules/ajv/lib/compile/ucs2length.js"),varOccurences:function varOccurences(e,t){t+="[^0-9]";var r=e.match(new RegExp(t,"g"));return r?r.length:0},varReplace:function varReplace(e,t,r){return t+="([^0-9])",r=r.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),r+"$1")},cleanUpCode:function cleanUpCode(e){return e.replace(s,"").replace(i,"").replace(c,"if (!($1))")},finalCleanUpCode:function finalCleanUpCode(e,t){var r=e.match(u);return r&&2==r.length&&(e=t?e.replace(d,"").replace(p,v):e.replace(l,"").replace(f,h)),(r=e.match(m))&&3===r.length?e.replace(g,""):e},schemaHasRules:function schemaHasRules(e,t){if("boolean"==typeof e)return!e;for(var r in e)if(t[r])return!0},schemaHasRulesExcept:function schemaHasRulesExcept(e,t,r){if("boolean"==typeof e)return!e&&"not"!=r;for(var a in e)if(a!=r&&t[a])return!0},toQuotedString:toQuotedString,getPathExpr:function getPathExpr(e,t,r,a){return joinPaths(e,r?"'/' + "+t+(a?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):a?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function getPath(e,t,r){return joinPaths(e,toQuotedString(r?"/"+escapeJsonPointer(t):getProperty(t)))},getData:function getData(e,t,r){var a,o,n,s;if(""===e)return"rootData";if("/"==e[0]){if(!y.test(e))throw new Error("Invalid JSON-pointer: "+e);o=e,n="rootData"}else{if(!(s=e.match(_)))throw new Error("Invalid JSON-pointer: "+e);if(a=+s[1],"#"==(o=s[2])){if(a>=t)throw new Error("Cannot access property/index "+a+" levels up, current level is "+t);return r[t-a]}if(a>t)throw new Error("Cannot access data "+a+" levels up, current level is "+t);if(n="data"+(t-a||""),!o)return n}for(var i=n,c=o.split("/"),u=0;u<c.length;u++){var l=c[u];l&&(i+=" && "+(n+=getProperty(unescapeJsonPointer(l))))}return i},unescapeFragment:function unescapeFragment(e){return unescapeJsonPointer(decodeURIComponent(e))},unescapeJsonPointer:unescapeJsonPointer,escapeFragment:function escapeFragment(e){return encodeURIComponent(escapeJsonPointer(e))},escapeJsonPointer:escapeJsonPointer};var a=toHash(["string","number","integer","boolean","null"]),o=/^[a-z$_][a-z$_0-9]*$/i,n=/'|\\/g,s=/else\s*{\s*}/g,i=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,c=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g,u=/[^v.]errors/g,l=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,d=/var errors = 0;|var vErrors = null;/g,f="return errors === 0;",h="validate.errors = null; return true;",p=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,v="return data;",m=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,g=/if \(rootData === undefined\) rootData = data;/,y=/^\/(?:[^~]|~0|~1)*$/,_=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/},"./node_modules/ajv/lib/dotjs/_limit.js":function(e,t,r){"use strict";e.exports=function generate__limit(e,t,r){var a,o=" ",n=e.level,s=e.dataLevel,i=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(s||""),f=e.opts.$data&&i&&i.$data;f?(o+=" var schema"+n+" = "+e.util.getData(i.$data,s,e.dataPathArr)+"; ",a="schema"+n):a=i;var h="maximum"==t,p=h?"exclusiveMaximum":"exclusiveMinimum",v=e.schema[p],m=e.opts.$data&&v&&v.$data,g=h?"<":">",y=h?">":"<",_=void 0;if(m){var b=e.util.getData(v.$data,s,e.dataPathArr),P="exclusive"+n,w="exclType"+n,S="exclIsNumber"+n,j="' + "+(O="op"+n)+" + '";o+=" var schemaExcl"+n+" = "+b+"; ",o+=" var "+P+"; var "+w+" = typeof "+(b="schemaExcl"+n)+"; if ("+w+" != 'boolean' && "+w+" != 'undefined' && "+w+" != 'number') { ";_=p;(x=x||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(_||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(o+=" , message: '"+p+" should be boolean' "),e.opts.verbose&&(o+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var E=o;o=x.pop(),!e.compositeRule&&l?e.async?o+=" throw new ValidationError(["+E+"]); ":o+=" validate.errors = ["+E+"]; return false; ":o+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" } else if ( ",f&&(o+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),o+=" "+w+" == 'number' ? ( ("+P+" = "+a+" === undefined || "+b+" "+g+"= "+a+") ? "+d+" "+y+"= "+b+" : "+d+" "+y+" "+a+" ) : ( ("+P+" = "+b+" === true) ? "+d+" "+y+"= "+a+" : "+d+" "+y+" "+a+" ) || "+d+" !== "+d+") { var op"+n+" = "+P+" ? '"+g+"' : '"+g+"=';"}else{j=g;if((S="number"==typeof v)&&f){var O="'"+j+"'";o+=" if ( ",f&&(o+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),o+=" ( "+a+" === undefined || "+v+" "+g+"= "+a+" ? "+d+" "+y+"= "+v+" : "+d+" "+y+" "+a+" ) || "+d+" !== "+d+") { "}else{S&&void 0===i?(P=!0,_=p,u=e.errSchemaPath+"/"+p,a=v,y+="="):(S&&(a=Math[h?"min":"max"](v,i)),v===(!S||a)?(P=!0,_=p,u=e.errSchemaPath+"/"+p,y+="="):(P=!1,j+="="));O="'"+j+"'";o+=" if ( ",f&&(o+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),o+=" "+d+" "+y+" "+a+" || "+d+" !== "+d+") { "}}_=_||t;var x;(x=x||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(_||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { comparison: "+O+", limit: "+a+", exclusive: "+P+" } ",!1!==e.opts.messages&&(o+=" , message: 'should be "+j+" ",o+=f?"' + "+a:a+"'"),e.opts.verbose&&(o+=" , schema:  ",o+=f?"validate.schema"+c:""+i,o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";E=o;return o=x.pop(),!e.compositeRule&&l?e.async?o+=" throw new ValidationError(["+E+"]); ":o+=" validate.errors = ["+E+"]; return false; ":o+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" } ",l&&(o+=" else { "),o}},"./node_modules/ajv/lib/dotjs/_limitItems.js":function(e,t,r){"use strict";e.exports=function generate__limitItems(e,t,r){var a,o=" ",n=e.level,s=e.dataLevel,i=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(s||""),f=e.opts.$data&&i&&i.$data;f?(o+=" var schema"+n+" = "+e.util.getData(i.$data,s,e.dataPathArr)+"; ",a="schema"+n):a=i;o+="if ( ",f&&(o+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),o+=" "+d+".length "+("maxItems"==t?">":"<")+" "+a+") { ";var h=t,p=p||[];p.push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(h||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+a+" } ",!1!==e.opts.messages&&(o+=" , message: 'should NOT have ",o+="maxItems"==t?"more":"less",o+=" than ",o+=f?"' + "+a+" + '":""+i,o+=" items' "),e.opts.verbose&&(o+=" , schema:  ",o+=f?"validate.schema"+c:""+i,o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var v=o;return o=p.pop(),!e.compositeRule&&l?e.async?o+=" throw new ValidationError(["+v+"]); ":o+=" validate.errors = ["+v+"]; return false; ":o+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+="} ",l&&(o+=" else { "),o}},"./node_modules/ajv/lib/dotjs/_limitLength.js":function(e,t,r){"use strict";e.exports=function generate__limitLength(e,t,r){var a,o=" ",n=e.level,s=e.dataLevel,i=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(s||""),f=e.opts.$data&&i&&i.$data;f?(o+=" var schema"+n+" = "+e.util.getData(i.$data,s,e.dataPathArr)+"; ",a="schema"+n):a=i;var h="maxLength"==t?">":"<";o+="if ( ",f&&(o+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),!1===e.opts.unicode?o+=" "+d+".length ":o+=" ucs2length("+d+") ",o+=" "+h+" "+a+") { ";var p=t,v=v||[];v.push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(p||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+a+" } ",!1!==e.opts.messages&&(o+=" , message: 'should NOT be ",o+="maxLength"==t?"longer":"shorter",o+=" than ",o+=f?"' + "+a+" + '":""+i,o+=" characters' "),e.opts.verbose&&(o+=" , schema:  ",o+=f?"validate.schema"+c:""+i,o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var m=o;return o=v.pop(),!e.compositeRule&&l?e.async?o+=" throw new ValidationError(["+m+"]); ":o+=" validate.errors = ["+m+"]; return false; ":o+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+="} ",l&&(o+=" else { "),o}},"./node_modules/ajv/lib/dotjs/_limitProperties.js":function(e,t,r){"use strict";e.exports=function generate__limitProperties(e,t,r){var a,o=" ",n=e.level,s=e.dataLevel,i=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(s||""),f=e.opts.$data&&i&&i.$data;f?(o+=" var schema"+n+" = "+e.util.getData(i.$data,s,e.dataPathArr)+"; ",a="schema"+n):a=i;o+="if ( ",f&&(o+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),o+=" Object.keys("+d+").length "+("maxProperties"==t?">":"<")+" "+a+") { ";var h=t,p=p||[];p.push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(h||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+a+" } ",!1!==e.opts.messages&&(o+=" , message: 'should NOT have ",o+="maxProperties"==t?"more":"less",o+=" than ",o+=f?"' + "+a+" + '":""+i,o+=" properties' "),e.opts.verbose&&(o+=" , schema:  ",o+=f?"validate.schema"+c:""+i,o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var v=o;return o=p.pop(),!e.compositeRule&&l?e.async?o+=" throw new ValidationError(["+v+"]); ":o+=" validate.errors = ["+v+"]; return false; ":o+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+="} ",l&&(o+=" else { "),o}},"./node_modules/ajv/lib/dotjs/allOf.js":function(e,t,r){"use strict";e.exports=function generate_allOf(e,t,r){var a=" ",o=e.schema[t],n=e.schemaPath+e.util.getProperty(t),s=e.errSchemaPath+"/"+t,i=!e.opts.allErrors,c=e.util.copy(e),u="";c.level++;var l="valid"+c.level,d=c.baseId,f=!0,h=o;if(h)for(var p,v=-1,m=h.length-1;v<m;)p=h[v+=1],e.util.schemaHasRules(p,e.RULES.all)&&(f=!1,c.schema=p,c.schemaPath=n+"["+v+"]",c.errSchemaPath=s+"/"+v,a+="  "+e.validate(c)+" ",c.baseId=d,i&&(a+=" if ("+l+") { ",u+="}"));return i&&(a+=f?" if (true) { ":" "+u.slice(0,-1)+" "),a=e.util.cleanUpCode(a)}},"./node_modules/ajv/lib/dotjs/anyOf.js":function(e,t,r){"use strict";e.exports=function generate_anyOf(e,t,r){var a=" ",o=e.level,n=e.dataLevel,s=e.schema[t],i=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(n||""),d="valid"+o,f="errs__"+o,h=e.util.copy(e),p="";h.level++;var v="valid"+h.level;if(s.every(function(t){return e.util.schemaHasRules(t,e.RULES.all)})){var m=h.baseId;a+=" var "+f+" = errors; var "+d+" = false;  ";var g=e.compositeRule;e.compositeRule=h.compositeRule=!0;var y=s;if(y)for(var _,b=-1,P=y.length-1;b<P;)_=y[b+=1],h.schema=_,h.schemaPath=i+"["+b+"]",h.errSchemaPath=c+"/"+b,a+="  "+e.validate(h)+" ",h.baseId=m,a+=" "+d+" = "+d+" || "+v+"; if (!"+d+") { ",p+="}";e.compositeRule=h.compositeRule=g,a+=" "+p+" if (!"+d+") {   var err =   ",!1!==e.createErrors?(a+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(a+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",e.opts.allErrors&&(a+=" } "),a=e.util.cleanUpCode(a)}else u&&(a+=" if (true) { ");return a}},"./node_modules/ajv/lib/dotjs/const.js":function(e,t,r){"use strict";e.exports=function generate_const(e,t,r){var a=" ",o=e.level,n=e.dataLevel,s=e.schema[t],i=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(n||""),d="valid"+o,f=e.opts.$data&&s&&s.$data;f&&(a+=" var schema"+o+" = "+e.util.getData(s.$data,n,e.dataPathArr)+"; "),f||(a+=" var schema"+o+" = validate.schema"+i+";"),a+="var "+d+" = equal("+l+", schema"+o+"); if (!"+d+") {   ";var h=h||[];h.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'should be equal to constant' "),e.opts.verbose&&(a+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),a+=" } "):a+=" {} ";var p=a;return a=h.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+p+"]); ":a+=" validate.errors = ["+p+"]; return false; ":a+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" }",u&&(a+=" else { "),a}},"./node_modules/ajv/lib/dotjs/contains.js":function(e,t,r){"use strict";e.exports=function generate_contains(e,t,r){var a=" ",o=e.level,n=e.dataLevel,s=e.schema[t],i=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(n||""),d="valid"+o,f="errs__"+o,h=e.util.copy(e);h.level++;var p="valid"+h.level,v="i"+o,m=h.dataLevel=e.dataLevel+1,g="data"+m,y=e.baseId,_=e.util.schemaHasRules(s,e.RULES.all);if(a+="var "+f+" = errors;var "+d+";",_){var b=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.schema=s,h.schemaPath=i,h.errSchemaPath=c,a+=" var "+p+" = false; for (var "+v+" = 0; "+v+" < "+l+".length; "+v+"++) { ",h.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0);var P=l+"["+v+"]";h.dataPathArr[m]=v;var w=e.validate(h);h.baseId=y,e.util.varOccurences(w,g)<2?a+=" "+e.util.varReplace(w,g,P)+" ":a+=" var "+g+" = "+P+"; "+w+" ",a+=" if ("+p+") break; }  ",e.compositeRule=h.compositeRule=b,a+="  if (!"+p+") {"}else a+=" if ("+l+".length == 0) {";var S=S||[];S.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'should contain a valid item' "),e.opts.verbose&&(a+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),a+=" } "):a+=" {} ";var j=a;return a=S.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+j+"]); ":a+=" validate.errors = ["+j+"]; return false; ":a+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { ",_&&(a+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } "),e.opts.allErrors&&(a+=" } "),a=e.util.cleanUpCode(a)}},"./node_modules/ajv/lib/dotjs/custom.js":function(e,t,r){"use strict";e.exports=function generate_custom(e,t,r){var a,o,n=" ",s=e.level,i=e.dataLevel,c=e.schema[t],u=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,f="data"+(i||""),h="valid"+s,p="errs__"+s,v=e.opts.$data&&c&&c.$data;v?(n+=" var schema"+s+" = "+e.util.getData(c.$data,i,e.dataPathArr)+"; ",o="schema"+s):o=c;var m,g,y,_,b,P="definition"+s,w=this.definition,S="";if(v&&w.$data){b="keywordValidate"+s;var j=w.validateSchema;n+=" var "+P+" = RULES.custom['"+t+"'].definition; var "+b+" = "+P+".validate;"}else{if(!(_=e.useCustomRule(this,c,e.schema,e)))return;o="validate.schema"+u,b=_.code,m=w.compile,g=w.inline,y=w.macro}var E=b+".errors",O="i"+s,x="ruleErr"+s,I=w.async;if(I&&!e.async)throw new Error("async keyword in sync schema");if(g||y||(n+=E+" = null;"),n+="var "+p+" = errors;var "+h+";",v&&w.$data&&(S+="}",n+=" if ("+o+" === undefined) { "+h+" = true; } else { ",j&&(S+="}",n+=" "+h+" = "+P+".validateSchema("+o+"); if ("+h+") { ")),g)w.statements?n+=" "+_.validate+" ":n+=" "+h+" = "+_.validate+"; ";else if(y){var M=e.util.copy(e);S="";M.level++;var C="valid"+M.level;M.schema=_.validate,M.schemaPath="";var D=e.compositeRule;e.compositeRule=M.compositeRule=!0;var L=e.validate(M).replace(/validate\.schema/g,b);e.compositeRule=M.compositeRule=D,n+=" "+L}else{(F=F||[]).push(n),n="",n+="  "+b+".call( ",e.opts.passContext?n+="this":n+="self",m||!1===w.schema?n+=" , "+f+" ":n+=" , "+o+" , "+f+" , validate.schema"+e.schemaPath+" ",n+=" , (dataPath || '')",'""'!=e.errorPath&&(n+=" + "+e.errorPath);var T=i?"data"+(i-1||""):"parentData",R=i?e.dataPathArr[i]:"parentDataProperty",A=n+=" , "+T+" , "+R+" , rootData )  ";n=F.pop(),!1===w.errors?(n+=" "+h+" = ",I&&(n+=""+e.yieldAwait),n+=A+"; "):n+=I?" var "+(E="customErrors"+s)+" = null; try { "+h+" = "+e.yieldAwait+A+"; } catch (e) { "+h+" = false; if (e instanceof ValidationError) "+E+" = e.errors; else throw e; } ":" "+E+" = null; "+h+" = "+A+"; "}if(w.modifying&&(n+=" if ("+T+") "+f+" = "+T+"["+R+"];"),n+=""+S,w.valid)d&&(n+=" if (true) { ");else{n+=" if ( ",void 0===w.valid?(n+=" !",n+=y?""+C:""+h):n+=" "+!w.valid+" ",n+=") { ",a=this.keyword;(F=F||[]).push(n),n="";var F;(F=F||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: '"+(a||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";var k=n;n=F.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+k+"]); ":n+=" validate.errors = ["+k+"]; return false; ":n+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var $=n;n=F.pop(),g?w.errors?"full"!=w.errors&&(n+="  for (var "+O+"="+p+"; "+O+"<errors; "+O+"++) { var "+x+" = vErrors["+O+"]; if ("+x+".dataPath === undefined) "+x+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+x+".schemaPath === undefined) { "+x+'.schemaPath = "'+l+'"; } ',e.opts.verbose&&(n+=" "+x+".schema = "+o+"; "+x+".data = "+f+"; "),n+=" } "):!1===w.errors?n+=" "+$+" ":(n+=" if ("+p+" == errors) { "+$+" } else {  for (var "+O+"="+p+"; "+O+"<errors; "+O+"++) { var "+x+" = vErrors["+O+"]; if ("+x+".dataPath === undefined) "+x+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+x+".schemaPath === undefined) { "+x+'.schemaPath = "'+l+'"; } ',e.opts.verbose&&(n+=" "+x+".schema = "+o+"; "+x+".data = "+f+"; "),n+=" } } "):y?(n+="   var err =   ",!1!==e.createErrors?(n+=" { keyword: '"+(a||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&d&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; ")):!1===w.errors?n+=" "+$+" ":(n+=" if (Array.isArray("+E+")) { if (vErrors === null) vErrors = "+E+"; else vErrors = vErrors.concat("+E+"); errors = vErrors.length;  for (var "+O+"="+p+"; "+O+"<errors; "+O+"++) { var "+x+" = vErrors["+O+"]; if ("+x+".dataPath === undefined) "+x+".dataPath = (dataPath || '') + "+e.errorPath+";  "+x+'.schemaPath = "'+l+'";  ',e.opts.verbose&&(n+=" "+x+".schema = "+o+"; "+x+".data = "+f+"; "),n+=" } } else { "+$+" } "),n+=" } ",d&&(n+=" else { ")}return n}},"./node_modules/ajv/lib/dotjs/dependencies.js":function(e,t,r){"use strict";e.exports=function generate_dependencies(e,t,r){var a=" ",o=e.level,n=e.dataLevel,s=e.schema[t],i=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(n||""),d="errs__"+o,f=e.util.copy(e),h="";f.level++;var p="valid"+f.level,v={},m={},g=e.opts.ownProperties;for(P in s){var y=s[P],_=Array.isArray(y)?m:v;_[P]=y}a+="var "+d+" = errors;";var b=e.errorPath;a+="var missing"+o+";";for(var P in m)if((_=m[P]).length){if(a+=" if ( "+l+e.util.getProperty(P)+" !== undefined ",g&&(a+=" && Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(P)+"') "),u){a+=" && ( ";var w=_;if(w)for(var S=-1,j=w.length-1;S<j;){C=w[S+=1],S&&(a+=" || ");a+=" ( ( "+(R=l+(T=e.util.getProperty(C)))+" === undefined ",g&&(a+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(C)+"') "),a+=") && (missing"+o+" = "+e.util.toQuotedString(e.opts.jsonPointers?C:T)+") ) "}a+=")) {  ";var E="missing"+o,O="' + "+E+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(b,E,!0):b+" + "+E);var x=x||[];x.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(P)+"', missingProperty: '"+O+"', depsCount: "+_.length+", deps: '"+e.util.escapeQuotes(1==_.length?_[0]:_.join(", "))+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should have ",1==_.length?a+="property "+e.util.escapeQuotes(_[0]):a+="properties "+e.util.escapeQuotes(_.join(", ")),a+=" when property "+e.util.escapeQuotes(P)+" is present' "),e.opts.verbose&&(a+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),a+=" } "):a+=" {} ";var I=a;a=x.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+I+"]); ":a+=" validate.errors = ["+I+"]; return false; ":a+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{a+=" ) { ";var M=_;if(M)for(var C,D=-1,L=M.length-1;D<L;){C=M[D+=1];var T=e.util.getProperty(C),R=(O=e.util.escapeQuotes(C),l+T);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(b,C,e.opts.jsonPointers)),a+=" if ( "+R+" === undefined ",g&&(a+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(C)+"') "),a+=") {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(P)+"', missingProperty: '"+O+"', depsCount: "+_.length+", deps: '"+e.util.escapeQuotes(1==_.length?_[0]:_.join(", "))+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should have ",1==_.length?a+="property "+e.util.escapeQuotes(_[0]):a+="properties "+e.util.escapeQuotes(_.join(", ")),a+=" when property "+e.util.escapeQuotes(P)+" is present' "),e.opts.verbose&&(a+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}a+=" }   ",u&&(h+="}",a+=" else { ")}e.errorPath=b;var A=f.baseId;for(var P in v){y=v[P];e.util.schemaHasRules(y,e.RULES.all)&&(a+=" "+p+" = true; if ( "+l+e.util.getProperty(P)+" !== undefined ",g&&(a+=" && Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(P)+"') "),a+=") { ",f.schema=y,f.schemaPath=i+e.util.getProperty(P),f.errSchemaPath=c+"/"+e.util.escapeFragment(P),a+="  "+e.validate(f)+" ",f.baseId=A,a+=" }  ",u&&(a+=" if ("+p+") { ",h+="}"))}return u&&(a+="   "+h+" if ("+d+" == errors) {"),a=e.util.cleanUpCode(a)}},"./node_modules/ajv/lib/dotjs/enum.js":function(e,t,r){"use strict";e.exports=function generate_enum(e,t,r){var a=" ",o=e.level,n=e.dataLevel,s=e.schema[t],i=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(n||""),d="valid"+o,f=e.opts.$data&&s&&s.$data;f&&(a+=" var schema"+o+" = "+e.util.getData(s.$data,n,e.dataPathArr)+"; ");var h="i"+o,p="schema"+o;f||(a+=" var "+p+" = validate.schema"+i+";"),a+="var "+d+";",f&&(a+=" if (schema"+o+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+o+")) "+d+" = false; else {"),a+=d+" = false;for (var "+h+"=0; "+h+"<"+p+".length; "+h+"++) if (equal("+l+", "+p+"["+h+"])) { "+d+" = true; break; }",f&&(a+="  }  "),a+=" if (!"+d+") {   ";var v=v||[];v.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { allowedValues: schema"+o+" } ",!1!==e.opts.messages&&(a+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(a+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),a+=" } "):a+=" {} ";var m=a;return a=v.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+m+"]); ":a+=" validate.errors = ["+m+"]; return false; ":a+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" }",u&&(a+=" else { "),a}},"./node_modules/ajv/lib/dotjs/format.js":function(e,t,r){"use strict";e.exports=function generate_format(e,t,r){var a=" ",o=e.level,n=e.dataLevel,s=e.schema[t],i=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(n||"");if(!1===e.opts.format)return u&&(a+=" if (true) { "),a;var d,f=e.opts.$data&&s&&s.$data;f?(a+=" var schema"+o+" = "+e.util.getData(s.$data,n,e.dataPathArr)+"; ",d="schema"+o):d=s;var h=e.opts.unknownFormats,p=Array.isArray(h);if(f){a+=" var "+(v="format"+o)+" = formats["+d+"]; var "+(m="isObject"+o)+" = typeof "+v+" == 'object' && !("+v+" instanceof RegExp) && "+v+".validate; var "+(g="formatType"+o)+" = "+m+" && "+v+".type || 'string'; if ("+m+") { ",e.async&&(a+=" var async"+o+" = "+v+".async; "),a+=" "+v+" = "+v+".validate; } if (  ",f&&(a+=" ("+d+" !== undefined && typeof "+d+" != 'string') || "),a+=" (","ignore"!=h&&(a+=" ("+d+" && !"+v+" ",p&&(a+=" && self._opts.unknownFormats.indexOf("+d+") == -1 "),a+=") || "),a+=" ("+v+" && "+g+" == '"+r+"' && !(typeof "+v+" == 'function' ? ",e.async?a+=" (async"+o+" ? "+e.yieldAwait+" "+v+"("+l+") : "+v+"("+l+")) ":a+=" "+v+"("+l+") ",a+=" : "+v+".test("+l+"))))) {"}else{var v;if(!(v=e.formats[s])){if("ignore"==h)return e.logger.warn('unknown format "'+s+'" ignored in schema at path "'+e.errSchemaPath+'"'),u&&(a+=" if (true) { "),a;if(p&&h.indexOf(s)>=0)return u&&(a+=" if (true) { "),a;throw new Error('unknown format "'+s+'" is used in schema at path "'+e.errSchemaPath+'"')}var m,g=(m="object"==typeof v&&!(v instanceof RegExp)&&v.validate)&&v.type||"string";if(m){var y=!0===v.async;v=v.validate}if(g!=r)return u&&(a+=" if (true) { "),a;if(y){if(!e.async)throw new Error("async format in sync schema");var _="formats"+e.util.getProperty(s)+".validate";a+=" if (!("+e.yieldAwait+" "+_+"("+l+"))) { "}else{a+=" if (! ";_="formats"+e.util.getProperty(s);m&&(_+=".validate"),a+="function"==typeof v?" "+_+"("+l+") ":" "+_+".test("+l+") ",a+=") { "}}var b=b||[];b.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { format:  ",a+=f?""+d:""+e.util.toQuotedString(s),a+="  } ",!1!==e.opts.messages&&(a+=" , message: 'should match format \"",a+=f?"' + "+d+" + '":""+e.util.escapeQuotes(s),a+="\"' "),e.opts.verbose&&(a+=" , schema:  ",a+=f?"validate.schema"+i:""+e.util.toQuotedString(s),a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),a+=" } "):a+=" {} ";var P=a;return a=b.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+P+"]); ":a+=" validate.errors = ["+P+"]; return false; ":a+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",u&&(a+=" else { "),a}},"./node_modules/ajv/lib/dotjs/items.js":function(e,t,r){"use strict";e.exports=function generate_items(e,t,r){var a=" ",o=e.level,n=e.dataLevel,s=e.schema[t],i=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(n||""),d="valid"+o,f="errs__"+o,h=e.util.copy(e),p="";h.level++;var v="valid"+h.level,m="i"+o,g=h.dataLevel=e.dataLevel+1,y="data"+g,_=e.baseId;if(a+="var "+f+" = errors;var "+d+";",Array.isArray(s)){var b=e.schema.additionalItems;if(!1===b){a+=" "+d+" = "+l+".length <= "+s.length+"; ";var P=c;c=e.errSchemaPath+"/additionalItems",a+="  if (!"+d+") {   ";var w=w||[];w.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+s.length+" } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT have more than "+s.length+" items' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),a+=" } "):a+=" {} ";var S=a;a=w.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+S+"]); ":a+=" validate.errors = ["+S+"]; return false; ":a+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",c=P,u&&(p+="}",a+=" else { ")}var j=s;if(j)for(var E,O=-1,x=j.length-1;O<x;)if(E=j[O+=1],e.util.schemaHasRules(E,e.RULES.all)){a+=" "+v+" = true; if ("+l+".length > "+O+") { ";var I=l+"["+O+"]";h.schema=E,h.schemaPath=i+"["+O+"]",h.errSchemaPath=c+"/"+O,h.errorPath=e.util.getPathExpr(e.errorPath,O,e.opts.jsonPointers,!0),h.dataPathArr[g]=O;var M=e.validate(h);h.baseId=_,e.util.varOccurences(M,y)<2?a+=" "+e.util.varReplace(M,y,I)+" ":a+=" var "+y+" = "+I+"; "+M+" ",a+=" }  ",u&&(a+=" if ("+v+") { ",p+="}")}if("object"==typeof b&&e.util.schemaHasRules(b,e.RULES.all)){h.schema=b,h.schemaPath=e.schemaPath+".additionalItems",h.errSchemaPath=e.errSchemaPath+"/additionalItems",a+=" "+v+" = true; if ("+l+".length > "+s.length+") {  for (var "+m+" = "+s.length+"; "+m+" < "+l+".length; "+m+"++) { ",h.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);I=l+"["+m+"]";h.dataPathArr[g]=m;M=e.validate(h);h.baseId=_,e.util.varOccurences(M,y)<2?a+=" "+e.util.varReplace(M,y,I)+" ":a+=" var "+y+" = "+I+"; "+M+" ",u&&(a+=" if (!"+v+") break; "),a+=" } }  ",u&&(a+=" if ("+v+") { ",p+="}")}}else if(e.util.schemaHasRules(s,e.RULES.all)){h.schema=s,h.schemaPath=i,h.errSchemaPath=c,a+="  for (var "+m+" = 0; "+m+" < "+l+".length; "+m+"++) { ",h.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);I=l+"["+m+"]";h.dataPathArr[g]=m;M=e.validate(h);h.baseId=_,e.util.varOccurences(M,y)<2?a+=" "+e.util.varReplace(M,y,I)+" ":a+=" var "+y+" = "+I+"; "+M+" ",u&&(a+=" if (!"+v+") break; "),a+=" }"}return u&&(a+=" "+p+" if ("+f+" == errors) {"),a=e.util.cleanUpCode(a)}},"./node_modules/ajv/lib/dotjs/multipleOf.js":function(e,t,r){"use strict";e.exports=function generate_multipleOf(e,t,r){var a,o=" ",n=e.level,s=e.dataLevel,i=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(s||""),f=e.opts.$data&&i&&i.$data;f?(o+=" var schema"+n+" = "+e.util.getData(i.$data,s,e.dataPathArr)+"; ",a="schema"+n):a=i,o+="var division"+n+";if (",f&&(o+=" "+a+" !== undefined && ( typeof "+a+" != 'number' || "),o+=" (division"+n+" = "+d+" / "+a+", ",e.opts.multipleOfPrecision?o+=" Math.abs(Math.round(division"+n+") - division"+n+") > 1e-"+e.opts.multipleOfPrecision+" ":o+=" division"+n+" !== parseInt(division"+n+") ",o+=" ) ",f&&(o+="  )  "),o+=" ) {   ";var h=h||[];h.push(o),o="",!1!==e.createErrors?(o+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { multipleOf: "+a+" } ",!1!==e.opts.messages&&(o+=" , message: 'should be multiple of ",o+=f?"' + "+a:a+"'"),e.opts.verbose&&(o+=" , schema:  ",o+=f?"validate.schema"+c:""+i,o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var p=o;return o=h.pop(),!e.compositeRule&&l?e.async?o+=" throw new ValidationError(["+p+"]); ":o+=" validate.errors = ["+p+"]; return false; ":o+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+="} ",l&&(o+=" else { "),o}},"./node_modules/ajv/lib/dotjs/not.js":function(e,t,r){"use strict";e.exports=function generate_not(e,t,r){var a=" ",o=e.level,n=e.dataLevel,s=e.schema[t],i=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(n||""),d="errs__"+o,f=e.util.copy(e);f.level++;var h="valid"+f.level;if(e.util.schemaHasRules(s,e.RULES.all)){f.schema=s,f.schemaPath=i,f.errSchemaPath=c,a+=" var "+d+" = errors;  ";var p=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.createErrors=!1;var v;f.opts.allErrors&&(v=f.opts.allErrors,f.opts.allErrors=!1),a+=" "+e.validate(f)+" ",f.createErrors=!0,v&&(f.opts.allErrors=v),e.compositeRule=f.compositeRule=p,a+=" if ("+h+") {   ";var m=m||[];m.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'should NOT be valid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),a+=" } "):a+=" {} ";var g=a;a=m.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(a+=" } ")}else a+="  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'should NOT be valid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(a+=" if (false) { ");return a}},"./node_modules/ajv/lib/dotjs/oneOf.js":function(e,t,r){"use strict";e.exports=function generate_oneOf(e,t,r){var a=" ",o=e.level,n=e.dataLevel,s=e.schema[t],i=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(n||""),d="valid"+o,f="errs__"+o,h=e.util.copy(e),p="";h.level++;var v="valid"+h.level;a+="var "+f+" = errors;var prevValid"+o+" = false;var "+d+" = false;";var m=h.baseId,g=e.compositeRule;e.compositeRule=h.compositeRule=!0;var y=s;if(y)for(var _,b=-1,P=y.length-1;b<P;)_=y[b+=1],e.util.schemaHasRules(_,e.RULES.all)?(h.schema=_,h.schemaPath=i+"["+b+"]",h.errSchemaPath=c+"/"+b,a+="  "+e.validate(h)+" ",h.baseId=m):a+=" var "+v+" = true; ",b&&(a+=" if ("+v+" && prevValid"+o+") "+d+" = false; else { ",p+="}"),a+=" if ("+v+") "+d+" = prevValid"+o+" = true;";return e.compositeRule=h.compositeRule=g,a+=p+"if (!"+d+") {   var err =   ",!1!==e.createErrors?(a+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(a+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+="} else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }",e.opts.allErrors&&(a+=" } "),a}},"./node_modules/ajv/lib/dotjs/pattern.js":function(e,t,r){"use strict";e.exports=function generate_pattern(e,t,r){var a,o=" ",n=e.level,s=e.dataLevel,i=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(s||""),f=e.opts.$data&&i&&i.$data;f?(o+=" var schema"+n+" = "+e.util.getData(i.$data,s,e.dataPathArr)+"; ",a="schema"+n):a=i;var h=f?"(new RegExp("+a+"))":e.usePattern(i);o+="if ( ",f&&(o+=" ("+a+" !== undefined && typeof "+a+" != 'string') || "),o+=" !"+h+".test("+d+") ) {   ";var p=p||[];p.push(o),o="",!1!==e.createErrors?(o+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { pattern:  ",o+=f?""+a:""+e.util.toQuotedString(i),o+="  } ",!1!==e.opts.messages&&(o+=" , message: 'should match pattern \"",o+=f?"' + "+a+" + '":""+e.util.escapeQuotes(i),o+="\"' "),e.opts.verbose&&(o+=" , schema:  ",o+=f?"validate.schema"+c:""+e.util.toQuotedString(i),o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var v=o;return o=p.pop(),!e.compositeRule&&l?e.async?o+=" throw new ValidationError(["+v+"]); ":o+=" validate.errors = ["+v+"]; return false; ":o+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+="} ",l&&(o+=" else { "),o}},"./node_modules/ajv/lib/dotjs/properties.js":function(e,t,r){"use strict";e.exports=function generate_properties(e,t,r){var a=" ",o=e.level,n=e.dataLevel,s=e.schema[t],i=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(n||""),d="valid"+o,f="errs__"+o,h=e.util.copy(e),p="";h.level++;var v="valid"+h.level,m="key"+o,g="idx"+o,y=h.dataLevel=e.dataLevel+1,_="data"+y,b="dataProperties"+o,P=Object.keys(s||{}),w=e.schema.patternProperties||{},S=Object.keys(w),j=e.schema.additionalProperties,E=P.length||S.length,O=!1===j,x="object"==typeof j&&Object.keys(j).length,I=e.opts.removeAdditional,M=O||x||I,C=e.opts.ownProperties,D=e.baseId,L=e.schema.required;if(L&&(!e.opts.v5||!L.$data)&&L.length<e.opts.loopRequired)var T=e.util.toHash(L);if(e.opts.patternGroups)var R=e.schema.patternGroups||{},A=Object.keys(R);if(a+="var "+f+" = errors;var "+v+" = true;",C&&(a+=" var "+b+" = undefined;"),M){if(a+=C?" "+b+" = "+b+" || Object.keys("+l+"); for (var "+g+"=0; "+g+"<"+b+".length; "+g+"++) { var "+m+" = "+b+"["+g+"]; ":" for (var "+m+" in "+l+") { ",E){if(a+=" var isAdditional"+o+" = !(false ",P.length)if(P.length>5)a+=" || validate.schema"+i+"["+m+"] ";else{var F=P;if(F)for(var k=-1,$=F.length-1;k<$;)X=F[k+=1],a+=" || "+m+" == "+e.util.toQuotedString(X)+" "}if(S.length){var B=S;if(B)for(var N=-1,V=B.length-1;N<V;)ce=B[N+=1],a+=" || "+e.usePattern(ce)+".test("+m+") "}if(e.opts.patternGroups&&A.length){var q=A;if(q){N=-1;for(var U=q.length-1;N<U;)fe=q[N+=1],a+=" || "+e.usePattern(fe)+".test("+m+") "}}a+=" ); if (isAdditional"+o+") { "}if("all"==I)a+=" delete "+l+"["+m+"]; ";else{var z=e.errorPath,Q="' + "+m+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers)),O)if(I)a+=" delete "+l+"["+m+"]; ";else{a+=" "+v+" = false; ";var W=c;c=e.errSchemaPath+"/additionalProperties";(Pe=Pe||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { additionalProperty: '"+Q+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT have additional properties' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),a+=" } "):a+=" {} ";var G=a;a=Pe.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+G+"]); ":a+=" validate.errors = ["+G+"]; return false; ":a+=" var err = "+G+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=W,u&&(a+=" break; ")}else if(x)if("failing"==I){a+=" var "+f+" = errors;  ";var K=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.schema=j,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var H=l+"["+m+"]";h.dataPathArr[y]=m;var J=e.validate(h);h.baseId=D,e.util.varOccurences(J,_)<2?a+=" "+e.util.varReplace(J,_,H)+" ":a+=" var "+_+" = "+H+"; "+J+" ",a+=" if (!"+v+") { errors = "+f+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+l+"["+m+"]; }  ",e.compositeRule=h.compositeRule=K}else{h.schema=j,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);H=l+"["+m+"]";h.dataPathArr[y]=m;J=e.validate(h);h.baseId=D,e.util.varOccurences(J,_)<2?a+=" "+e.util.varReplace(J,_,H)+" ":a+=" var "+_+" = "+H+"; "+J+" ",u&&(a+=" if (!"+v+") break; ")}e.errorPath=z}E&&(a+=" } "),a+=" }  ",u&&(a+=" if ("+v+") { ",p+="}")}var Z=e.opts.useDefaults&&!e.compositeRule;if(P.length){var Y=P;if(Y)for(var X,ee=-1,te=Y.length-1;ee<te;){var re=s[X=Y[ee+=1]];if(e.util.schemaHasRules(re,e.RULES.all)){var ae=e.util.getProperty(X),oe=(H=l+ae,Z&&void 0!==re.default);h.schema=re,h.schemaPath=i+ae,h.errSchemaPath=c+"/"+e.util.escapeFragment(X),h.errorPath=e.util.getPath(e.errorPath,X,e.opts.jsonPointers),h.dataPathArr[y]=e.util.toQuotedString(X);J=e.validate(h);if(h.baseId=D,e.util.varOccurences(J,_)<2){J=e.util.varReplace(J,_,H);var ne=H}else{ne=_;a+=" var "+_+" = "+H+"; "}if(oe)a+=" "+J+" ";else{if(T&&T[X]){a+=" if ( "+ne+" === undefined ",C&&(a+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(X)+"') "),a+=") { "+v+" = false; ";z=e.errorPath,W=c;var se=e.util.escapeQuotes(X);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(z,X,e.opts.jsonPointers)),c=e.errSchemaPath+"/required";(Pe=Pe||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+se+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+se+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),a+=" } "):a+=" {} ";G=a;a=Pe.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+G+"]); ":a+=" validate.errors = ["+G+"]; return false; ":a+=" var err = "+G+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=W,e.errorPath=z,a+=" } else { "}else u?(a+=" if ( "+ne+" === undefined ",C&&(a+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(X)+"') "),a+=") { "+v+" = true; } else { "):(a+=" if ("+ne+" !== undefined ",C&&(a+=" &&   Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(X)+"') "),a+=" ) { ");a+=" "+J+" } "}}u&&(a+=" if ("+v+") { ",p+="}")}}if(S.length){var ie=S;if(ie)for(var ce,ue=-1,le=ie.length-1;ue<le;){re=w[ce=ie[ue+=1]];if(e.util.schemaHasRules(re,e.RULES.all)){h.schema=re,h.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(ce),h.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(ce),a+=C?" "+b+" = "+b+" || Object.keys("+l+"); for (var "+g+"=0; "+g+"<"+b+".length; "+g+"++) { var "+m+" = "+b+"["+g+"]; ":" for (var "+m+" in "+l+") { ",a+=" if ("+e.usePattern(ce)+".test("+m+")) { ",h.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);H=l+"["+m+"]";h.dataPathArr[y]=m;J=e.validate(h);h.baseId=D,e.util.varOccurences(J,_)<2?a+=" "+e.util.varReplace(J,_,H)+" ":a+=" var "+_+" = "+H+"; "+J+" ",u&&(a+=" if (!"+v+") break; "),a+=" } ",u&&(a+=" else "+v+" = true; "),a+=" }  ",u&&(a+=" if ("+v+") { ",p+="}")}}}if(e.opts.patternGroups&&A.length){var de=A;if(de)for(var fe,he=-1,pe=de.length-1;he<pe;){var ve=R[fe=de[he+=1]];re=ve.schema;if(e.util.schemaHasRules(re,e.RULES.all)){h.schema=re,h.schemaPath=e.schemaPath+".patternGroups"+e.util.getProperty(fe)+".schema",h.errSchemaPath=e.errSchemaPath+"/patternGroups/"+e.util.escapeFragment(fe)+"/schema",a+=" var pgPropCount"+o+" = 0;  ",a+=C?" "+b+" = "+b+" || Object.keys("+l+"); for (var "+g+"=0; "+g+"<"+b+".length; "+g+"++) { var "+m+" = "+b+"["+g+"]; ":" for (var "+m+" in "+l+") { ",a+=" if ("+e.usePattern(fe)+".test("+m+")) { pgPropCount"+o+"++; ",h.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);H=l+"["+m+"]";h.dataPathArr[y]=m;J=e.validate(h);h.baseId=D,e.util.varOccurences(J,_)<2?a+=" "+e.util.varReplace(J,_,H)+" ":a+=" var "+_+" = "+H+"; "+J+" ",u&&(a+=" if (!"+v+") break; "),a+=" } ",u&&(a+=" else "+v+" = true; "),a+=" }  ",u&&(a+=" if ("+v+") { ",p+="}");var me=ve.minimum,ge=ve.maximum;if(void 0!==me||void 0!==ge){a+=" var "+d+" = true; ";W=c;if(void 0!==me){var ye=me,_e="minimum",be="less";a+=" "+d+" = pgPropCount"+o+" >= "+me+"; ",c=e.errSchemaPath+"/patternGroups/minimum",a+="  if (!"+d+") {   ";(Pe=Pe||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'patternGroups' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { reason: '"+_e+"', limit: "+ye+", pattern: '"+e.util.escapeQuotes(fe)+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT have "+be+" than "+ye+' properties matching pattern "'+e.util.escapeQuotes(fe)+"\"' "),e.opts.verbose&&(a+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),a+=" } "):a+=" {} ";G=a;a=Pe.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+G+"]); ":a+=" validate.errors = ["+G+"]; return false; ":a+=" var err = "+G+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",void 0!==ge&&(a+=" else ")}if(void 0!==ge){ye=ge,_e="maximum",be="more";a+=" "+d+" = pgPropCount"+o+" <= "+ge+"; ",c=e.errSchemaPath+"/patternGroups/maximum",a+="  if (!"+d+") {   ";var Pe;(Pe=Pe||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'patternGroups' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { reason: '"+_e+"', limit: "+ye+", pattern: '"+e.util.escapeQuotes(fe)+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT have "+be+" than "+ye+' properties matching pattern "'+e.util.escapeQuotes(fe)+"\"' "),e.opts.verbose&&(a+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),a+=" } "):a+=" {} ";G=a;a=Pe.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+G+"]); ":a+=" validate.errors = ["+G+"]; return false; ":a+=" var err = "+G+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } "}c=W,u&&(a+=" if ("+d+") { ",p+="}")}}}}return u&&(a+=" "+p+" if ("+f+" == errors) {"),a=e.util.cleanUpCode(a)}},"./node_modules/ajv/lib/dotjs/propertyNames.js":function(e,t,r){"use strict";e.exports=function generate_propertyNames(e,t,r){var a=" ",o=e.level,n=e.dataLevel,s=e.schema[t],i=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(n||""),d="errs__"+o,f=e.util.copy(e);f.level++;var h="valid"+f.level;if(e.util.schemaHasRules(s,e.RULES.all)){f.schema=s,f.schemaPath=i,f.errSchemaPath=c;var p="key"+o,v="idx"+o,m="i"+o,g="' + "+p+" + '",y="data"+(f.dataLevel=e.dataLevel+1),_="dataProperties"+o,b=e.opts.ownProperties,P=e.baseId;a+=" var "+d+" = errors; ",b&&(a+=" var "+_+" = undefined; "),a+=b?" "+_+" = "+_+" || Object.keys("+l+"); for (var "+v+"=0; "+v+"<"+_+".length; "+v+"++) { var "+p+" = "+_+"["+v+"]; ":" for (var "+p+" in "+l+") { ",a+=" var startErrs"+o+" = errors; ";var w=p,S=e.compositeRule;e.compositeRule=f.compositeRule=!0;var j=e.validate(f);f.baseId=P,e.util.varOccurences(j,y)<2?a+=" "+e.util.varReplace(j,y,w)+" ":a+=" var "+y+" = "+w+"; "+j+" ",e.compositeRule=f.compositeRule=S,a+=" if (!"+h+") { for (var "+m+"=startErrs"+o+"; "+m+"<errors; "+m+"++) { vErrors["+m+"].propertyName = "+p+"; }   var err =   ",!1!==e.createErrors?(a+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { propertyName: '"+g+"' } ",!1!==e.opts.messages&&(a+=" , message: 'property name \\'"+g+"\\' is invalid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),u&&(a+=" break; "),a+=" } }"}return u&&(a+="  if ("+d+" == errors) {"),a=e.util.cleanUpCode(a)}},"./node_modules/ajv/lib/dotjs/ref.js":function(e,t,r){"use strict";e.exports=function generate_ref(e,t,r){var a,o,n=" ",s=e.level,i=e.dataLevel,c=e.schema[t],u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(i||""),f="valid"+s;if("#"==c||"#/"==c)e.isRoot?(a=e.async,o="validate"):(a=!0===e.root.schema.$async,o="root.refVal[0]");else{var h=e.resolveRef(e.baseId,c,e.isRoot);if(void 0===h){var p=e.MissingRefError.message(e.baseId,c);if("fail"==e.opts.missingRefs){e.logger.error(p);(y=y||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { ref: '"+e.util.escapeQuotes(c)+"' } ",!1!==e.opts.messages&&(n+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(c)+"' "),e.opts.verbose&&(n+=" , schema: "+e.util.toQuotedString(c)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var v=n;n=y.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(n+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,c,p);e.logger.warn(p),l&&(n+=" if (true) { ")}}else if(h.inline){var m=e.util.copy(e);m.level++;var g="valid"+m.level;m.schema=h.schema,m.schemaPath="",m.errSchemaPath=c;n+=" "+e.validate(m).replace(/validate\.schema/g,h.code)+" ",l&&(n+=" if ("+g+") { ")}else a=!0===h.$async,o=h.code}if(o){var y;(y=y||[]).push(n),n="",e.opts.passContext?n+=" "+o+".call(this, ":n+=" "+o+"( ",n+=" "+d+", (dataPath || '')",'""'!=e.errorPath&&(n+=" + "+e.errorPath);var _=n+=" , "+(i?"data"+(i-1||""):"parentData")+" , "+(i?e.dataPathArr[i]:"parentDataProperty")+", rootData)  ";if(n=y.pop(),a){if(!e.async)throw new Error("async schema referenced by sync schema");l&&(n+=" var "+f+"; "),n+=" try { "+e.yieldAwait+" "+_+"; ",l&&(n+=" "+f+" = true; "),n+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",l&&(n+=" "+f+" = false; "),n+=" } ",l&&(n+=" if ("+f+") { ")}else n+=" if (!"+_+") { if (vErrors === null) vErrors = "+o+".errors; else vErrors = vErrors.concat("+o+".errors); errors = vErrors.length; } ",l&&(n+=" else { ")}return n}},"./node_modules/ajv/lib/dotjs/required.js":function(e,t,r){"use strict";e.exports=function generate_required(e,t,r){var a=" ",o=e.level,n=e.dataLevel,s=e.schema[t],i=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(n||""),d="valid"+o,f=e.opts.$data&&s&&s.$data;f&&(a+=" var schema"+o+" = "+e.util.getData(s.$data,n,e.dataPathArr)+"; ");var h="schema"+o;if(!f)if(s.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var p=[],v=s;if(v)for(var m,g=-1,y=v.length-1;g<y;){m=v[g+=1];var _=e.schema.properties[m];_&&e.util.schemaHasRules(_,e.RULES.all)||(p[p.length]=m)}}else p=s;if(f||p.length){var b=e.errorPath,P=f||p.length>=e.opts.loopRequired,w=e.opts.ownProperties;if(u)if(a+=" var missing"+o+"; ",P){f||(a+=" var "+h+" = validate.schema"+i+"; ");var S="' + "+(M="schema"+o+"["+(O="i"+o)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(b,M,e.opts.jsonPointers)),a+=" var "+d+" = true; ",f&&(a+=" if (schema"+o+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+o+")) "+d+" = false; else {"),a+=" for (var "+O+" = 0; "+O+" < "+h+".length; "+O+"++) { "+d+" = "+l+"["+h+"["+O+"]] !== undefined ",w&&(a+=" &&   Object.prototype.hasOwnProperty.call("+l+", "+h+"["+O+"]) "),a+="; if (!"+d+") break; } ",f&&(a+="  }  "),a+="  if (!"+d+") {   ";(I=I||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+S+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+S+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),a+=" } "):a+=" {} ";var j=a;a=I.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+j+"]); ":a+=" validate.errors = ["+j+"]; return false; ":a+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { "}else{a+=" if ( ";var E=p;if(E)for(var O=-1,x=E.length-1;O<x;){D=E[O+=1],O&&(a+=" || ");a+=" ( ( "+(A=l+(R=e.util.getProperty(D)))+" === undefined ",w&&(a+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(D)+"') "),a+=") && (missing"+o+" = "+e.util.toQuotedString(e.opts.jsonPointers?D:R)+") ) "}a+=") {  ";S="' + "+(M="missing"+o)+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(b,M,!0):b+" + "+M);var I;(I=I||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+S+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+S+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),a+=" } "):a+=" {} ";j=a;a=I.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+j+"]); ":a+=" validate.errors = ["+j+"]; return false; ":a+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { "}else if(P){f||(a+=" var "+h+" = validate.schema"+i+"; ");var M;S="' + "+(M="schema"+o+"["+(O="i"+o)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(b,M,e.opts.jsonPointers)),f&&(a+=" if ("+h+" && !Array.isArray("+h+")) {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+S+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+S+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+h+" !== undefined) { "),a+=" for (var "+O+" = 0; "+O+" < "+h+".length; "+O+"++) { if ("+l+"["+h+"["+O+"]] === undefined ",w&&(a+=" || ! Object.prototype.hasOwnProperty.call("+l+", "+h+"["+O+"]) "),a+=") {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+S+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+S+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",f&&(a+="  }  ")}else{var C=p;if(C)for(var D,L=-1,T=C.length-1;L<T;){D=C[L+=1];var R=e.util.getProperty(D),A=(S=e.util.escapeQuotes(D),l+R);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(b,D,e.opts.jsonPointers)),a+=" if ( "+A+" === undefined ",w&&(a+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(D)+"') "),a+=") {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+S+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+S+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=b}else u&&(a+=" if (true) {");return a}},"./node_modules/ajv/lib/dotjs/uniqueItems.js":function(e,t,r){"use strict";e.exports=function generate_uniqueItems(e,t,r){var a,o=" ",n=e.level,s=e.dataLevel,i=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(s||""),f="valid"+n,h=e.opts.$data&&i&&i.$data;if(h?(o+=" var schema"+n+" = "+e.util.getData(i.$data,s,e.dataPathArr)+"; ",a="schema"+n):a=i,(i||h)&&!1!==e.opts.uniqueItems){h&&(o+=" var "+f+"; if ("+a+" === false || "+a+" === undefined) "+f+" = true; else if (typeof "+a+" != 'boolean') "+f+" = false; else { "),o+=" var "+f+" = true; if ("+d+".length > 1) { var i = "+d+".length, j; outer: for (;i--;) { for (j = i; j--;) { if (equal("+d+"[i], "+d+"[j])) { "+f+" = false; break outer; } } } } ",h&&(o+="  }  "),o+=" if (!"+f+") {   ";var p=p||[];p.push(o),o="",!1!==e.createErrors?(o+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(o+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(o+=" , schema:  ",o+=h?"validate.schema"+c:""+i,o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var v=o;o=p.pop(),!e.compositeRule&&l?e.async?o+=" throw new ValidationError(["+v+"]); ":o+=" validate.errors = ["+v+"]; return false; ":o+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" } ",l&&(o+=" else { ")}else l&&(o+=" if (true) { ");return o}},"./node_modules/ajv/lib/dotjs/validate.js":function(e,t,r){"use strict";e.exports=function generate_validate(e,t,r){function $shouldUseGroup(e){for(var t=e.rules,r=0;r<t.length;r++)if($shouldUseRule(t[r]))return!0}function $shouldUseRule(t){return void 0!==e.schema[t.keyword]||t.implements&&function $ruleImplementsSomeKeyword(t){for(var r=t.implements,a=0;a<r.length;a++)if(void 0!==e.schema[r[a]])return!0}(t)}var a="",o=!0===e.schema.$async,n=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),s=e.self._getId(e.schema);if(e.isTop){if(o){e.async=!0;var i="es7"==e.opts.async;e.yieldAwait=i?"await":"yield"}a+=" var validate = ",o?i?a+=" (async function ":("*"!=e.opts.async&&(a+="co.wrap"),a+="(function* "):a+=" (function ",a+=" (data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",s&&(e.opts.sourceCode||e.opts.processCode)&&(a+=" /*# sourceURL="+s+" */ ")}if("boolean"==typeof e.schema||!n&&!e.schema.$ref){t="false schema";var c=e.level,u=e.dataLevel,l=e.schema[t],d=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,p="data"+(u||""),v="valid"+c;if(!1===e.schema){e.isTop?h=!0:a+=" var "+v+" = false; ";(Z=Z||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(y||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'boolean schema is false' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var m=a;a=Z.pop(),!e.compositeRule&&h?e.async?a+=" throw new ValidationError(["+m+"]); ":a+=" validate.errors = ["+m+"]; return false; ":a+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?a+=o?" return data; ":" validate.errors = null; return true; ":a+=" var "+v+" = true; ";return e.isTop&&(a+=" }); return validate; "),a}if(e.isTop){var g=e.isTop;c=e.level=0,u=e.dataLevel=0,p="data";e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[void 0],a+=" var vErrors = null; ",a+=" var errors = 0;     ",a+=" if (rootData === undefined) rootData = data; "}else{c=e.level,p="data"+((u=e.dataLevel)||"");if(s&&(e.baseId=e.resolve.url(e.baseId,s)),o&&!e.async)throw new Error("async schema in sync schema");a+=" var errs_"+c+" = errors;"}v="valid"+c,h=!e.opts.allErrors;var y,_="",b="",P=e.schema.type,w=Array.isArray(P);if(w&&1==P.length&&(P=P[0],w=!1),e.schema.$ref&&n){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(n=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(P){if(e.opts.coerceTypes)var S=e.util.coerceToTypes(e.opts.coerceTypes,P);var j=e.RULES.types[P];if(S||w||!0===j||j&&!$shouldUseGroup(j)){d=e.schemaPath+".type",f=e.errSchemaPath+"/type",d=e.schemaPath+".type",f=e.errSchemaPath+"/type";var E=w?"checkDataTypes":"checkDataType";if(a+=" if ("+e.util[E](P,p,!0)+") { ",S){var O="dataType"+c,x="coerced"+c;a+=" var "+O+" = typeof "+p+"; ","array"==e.opts.coerceTypes&&(a+=" if ("+O+" == 'object' && Array.isArray("+p+")) "+O+" = 'array'; "),a+=" var "+x+" = undefined; ";var I="",M=S;if(M)for(var C,D=-1,L=M.length-1;D<L;)C=M[D+=1],D&&(a+=" if ("+x+" === undefined) { ",I+="}"),"array"==e.opts.coerceTypes&&"array"!=C&&(a+=" if ("+O+" == 'array' && "+p+".length == 1) { "+x+" = "+p+" = "+p+"[0]; "+O+" = typeof "+p+";  } "),"string"==C?a+=" if ("+O+" == 'number' || "+O+" == 'boolean') "+x+" = '' + "+p+"; else if ("+p+" === null) "+x+" = ''; ":"number"==C||"integer"==C?(a+=" if ("+O+" == 'boolean' || "+p+" === null || ("+O+" == 'string' && "+p+" && "+p+" == +"+p+" ","integer"==C&&(a+=" && !("+p+" % 1)"),a+=")) "+x+" = +"+p+"; "):"boolean"==C?a+=" if ("+p+" === 'false' || "+p+" === 0 || "+p+" === null) "+x+" = false; else if ("+p+" === 'true' || "+p+" === 1) "+x+" = true; ":"null"==C?a+=" if ("+p+" === '' || "+p+" === 0 || "+p+" === false) "+x+" = null; ":"array"==e.opts.coerceTypes&&"array"==C&&(a+=" if ("+O+" == 'string' || "+O+" == 'number' || "+O+" == 'boolean' || "+p+" == null) "+x+" = ["+p+"]; ");a+=" "+I+" if ("+x+" === undefined) {   ";(Z=Z||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(y||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { type: '",a+=w?""+P.join(","):""+P,a+="' } ",!1!==e.opts.messages&&(a+=" , message: 'should be ",a+=w?""+P.join(","):""+P,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";m=a;a=Z.pop(),!e.compositeRule&&h?e.async?a+=" throw new ValidationError(["+m+"]); ":a+=" validate.errors = ["+m+"]; return false; ":a+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else {  ";var T=u?"data"+(u-1||""):"parentData",R=u?e.dataPathArr[u]:"parentDataProperty";a+=" "+p+" = "+x+"; ",u||(a+="if ("+T+" !== undefined)"),a+=" "+T+"["+R+"] = "+x+"; } "}else{(Z=Z||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(y||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { type: '",a+=w?""+P.join(","):""+P,a+="' } ",!1!==e.opts.messages&&(a+=" , message: 'should be ",a+=w?""+P.join(","):""+P,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";m=a;a=Z.pop(),!e.compositeRule&&h?e.async?a+=" throw new ValidationError(["+m+"]); ":a+=" validate.errors = ["+m+"]; return false; ":a+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}a+=" } "}}if(e.schema.$ref&&!n)a+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",h&&(a+=" } if (errors === ",a+=g?"0":"errs_"+c,a+=") { ",b+="}");else{e.opts.v5&&e.schema.patternGroups&&e.logger.warn('keyword "patternGroups" is deprecated and disabled. Use option patternGroups: true to enable.');var A=e.RULES;if(A)for(var F=-1,k=A.length-1;F<k;)if(j=A[F+=1],$shouldUseGroup(j)){if(j.type&&(a+=" if ("+e.util.checkDataType(j.type,p)+") { "),e.opts.useDefaults&&!e.compositeRule)if("object"==j.type&&e.schema.properties){l=e.schema.properties;var $=Object.keys(l);if($)for(var B,N=-1,V=$.length-1;N<V;){if(void 0!==(U=l[B=$[N+=1]]).default){a+="  if ("+(Q=p+e.util.getProperty(B))+" === undefined) "+Q+" = ","shared"==e.opts.useDefaults?a+=" "+e.useDefault(U.default)+" ":a+=" "+JSON.stringify(U.default)+" ",a+="; "}}}else if("array"==j.type&&Array.isArray(e.schema.items)){var q=e.schema.items;if(q){D=-1;for(var U,z=q.length-1;D<z;)if(void 0!==(U=q[D+=1]).default){var Q;a+="  if ("+(Q=p+"["+D+"]")+" === undefined) "+Q+" = ","shared"==e.opts.useDefaults?a+=" "+e.useDefault(U.default)+" ":a+=" "+JSON.stringify(U.default)+" ",a+="; "}}}var W=j.rules;if(W)for(var G,K=-1,H=W.length-1;K<H;)if(G=W[K+=1],$shouldUseRule(G)){var J=G.code(e,G.keyword,j.type);J&&(a+=" "+J+" ",h&&(_+="}"))}if(h&&(a+=" "+_+" ",_=""),j.type&&(a+=" } ",P&&P===j.type&&!S)){a+=" else { ";var Z;d=e.schemaPath+".type",f=e.errSchemaPath+"/type";(Z=Z||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(y||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { type: '",a+=w?""+P.join(","):""+P,a+="' } ",!1!==e.opts.messages&&(a+=" , message: 'should be ",a+=w?""+P.join(","):""+P,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";m=a;a=Z.pop(),!e.compositeRule&&h?e.async?a+=" throw new ValidationError(["+m+"]); ":a+=" validate.errors = ["+m+"]; return false; ":a+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } "}h&&(a+=" if (errors === ",a+=g?"0":"errs_"+c,a+=") { ",b+="}")}}return h&&(a+=" "+b+" "),g?(o?(a+=" if (errors === 0) return data;           ",a+=" else throw new ValidationError(vErrors); "):(a+=" validate.errors = vErrors; ",a+=" return errors === 0;       "),a+=" }); return validate;"):a+=" var "+v+" = errors === errs_"+c+";",a=e.util.cleanUpCode(a),g&&(a=e.util.finalCleanUpCode(a,o)),a}},"./node_modules/ajv/lib/keyword.js":function(e,t,r){"use strict";var a=/^[a-z_$][a-z0-9_$-]*$/i,o=r("./node_modules/ajv/lib/dotjs/custom.js");e.exports={add:function addKeyword(e,t){function _addRule(e,t,a){for(var n,s=0;s<r.length;s++){var i=r[s];if(i.type==t){n=i;break}}n||(n={type:t,rules:[]},r.push(n));var c={keyword:e,definition:a,custom:!0,code:o,implements:a.implements};n.rules.push(c),r.custom[e]=c}function checkDataType(e){if(!r.types[e])throw new Error("Unknown type "+e)}var r=this.RULES;if(r.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!a.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){if(t.macro&&void 0!==t.valid)throw new Error('"valid" option cannot be used with macro keywords');var n=t.type;if(Array.isArray(n)){var s,i=n.length;for(s=0;s<i;s++)checkDataType(n[s]);for(s=0;s<i;s++)_addRule(e,n[s],t)}else n&&checkDataType(n),_addRule(e,n,t);var c=!0===t.$data&&this._opts.$data;if(c&&!t.validate)throw new Error('$data support: "validate" function is not defined');var u=t.metaSchema;u&&(c&&(u={anyOf:[u,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#"}]}),t.validateSchema=this.compile(u,!0))}return r.keywords[e]=r.all[e]=!0,this},get:function getKeyword(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function removeKeyword(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var r=0;r<t.length;r++)for(var a=t[r].rules,o=0;o<a.length;o++)if(a[o].keyword==e){a.splice(o,1);break}return this}}},"./node_modules/ajv/lib/patternGroups.js":function(e,t,r){"use strict";var a="http://json-schema.org/draft-06/schema";e.exports=function(e){var t=e._opts.defaultMeta,r="string"==typeof t?{$ref:t}:e.getSchema(a)?{$ref:a}:{};e.addKeyword("patternGroups",{metaSchema:{type:"object",additionalProperties:{type:"object",required:["schema"],properties:{maximum:{type:"integer",minimum:0},minimum:{type:"integer",minimum:0},schema:r},additionalProperties:!1}}}),e.RULES.all.properties.implements.push("patternGroups")}},"./node_modules/ajv/lib/refs/$data.json":function(e,t){e.exports={$schema:"http://json-schema.org/draft-06/schema#",$id:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#",description:"Meta-schema for $data reference (JSON-schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},"./node_modules/ajv/lib/refs/json-schema-draft-06.json":function(e,t){e.exports={$schema:"http://json-schema.org/draft-06/schema#",$id:"http://json-schema.org/draft-06/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},title:{type:"string"},description:{type:"string"},default:{},examples:{type:"array",items:{}},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:{},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:{}}},"./node_modules/class-transformer/ClassTransformer.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("./node_modules/class-transformer/TransformOperationExecutor.js"),o=function(){function ClassTransformer(){}return ClassTransformer.prototype.classToPlain=function(e,t){return new a.TransformOperationExecutor(a.TransformationType.CLASS_TO_PLAIN,t||{}).transform(void 0,e,void 0,void 0,void 0,void 0)},ClassTransformer.prototype.classToPlainFromExist=function(e,t,r){return new a.TransformOperationExecutor(a.TransformationType.CLASS_TO_PLAIN,r||{}).transform(t,e,void 0,void 0,void 0,void 0)},ClassTransformer.prototype.plainToClass=function(e,t,r){return new a.TransformOperationExecutor(a.TransformationType.PLAIN_TO_CLASS,r||{}).transform(void 0,t,e,void 0,void 0,void 0)},ClassTransformer.prototype.plainToClassFromExist=function(e,t,r){return new a.TransformOperationExecutor(a.TransformationType.PLAIN_TO_CLASS,r||{}).transform(e,t,void 0,void 0,void 0,void 0)},ClassTransformer.prototype.classToClass=function(e,t){return new a.TransformOperationExecutor(a.TransformationType.CLASS_TO_CLASS,t||{}).transform(void 0,e,void 0,void 0,void 0,void 0)},ClassTransformer.prototype.classToClassFromExist=function(e,t,r){return new a.TransformOperationExecutor(a.TransformationType.CLASS_TO_CLASS,r||{}).transform(t,e,void 0,void 0,void 0,void 0)},ClassTransformer.prototype.serialize=function(e,t){return JSON.stringify(this.classToPlain(e,t))},ClassTransformer.prototype.deserialize=function(e,t,r){var a=JSON.parse(t);return this.plainToClass(e,a,r)},ClassTransformer.prototype.deserializeArray=function(e,t,r){var a=JSON.parse(t);return this.plainToClass(e,a,r)},ClassTransformer}();t.ClassTransformer=o},"./node_modules/class-transformer/TransformOperationExecutor.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=r("./node_modules/class-transformer/storage.js");!function(e){e[e.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",e[e.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",e[e.CLASS_TO_CLASS=2]="CLASS_TO_CLASS"}(a=t.TransformationType||(t.TransformationType={}));var n=function(){function TransformOperationExecutor(e,t){this.transformationType=e,this.options=t,this.transformedTypesMap=new Map}return TransformOperationExecutor.prototype.transform=function(e,t,r,n,s,i){var c=this;if(void 0===i&&(i=0),t instanceof Array||t instanceof Set){var u=n&&this.transformationType===a.PLAIN_TO_CLASS?new n:[];return t.forEach(function(t,o){var n=e?e[o]:void 0;if(c.options.enableCircularCheck&&c.isCircular(t,i))c.transformationType===a.CLASS_TO_CLASS&&(u instanceof Set?u.add(t):u.push(t));else{var s=c.transform(n,t,r,void 0,t instanceof Map,i+1);u instanceof Set?u.add(s):u.push(s)}}),u}if(r!==String||s){if(r!==Number||s){if(r!==Boolean||s){if((r===Date||t instanceof Date)&&!s)return t instanceof Date?new Date(t.valueOf()):null===t||void 0===t?t:new Date(t);if(t instanceof Object){r||t.constructor===Object||(r=t.constructor),!r&&e&&(r=e.constructor),this.options.enableCircularCheck&&this.transformedTypesMap.set(t,{level:i,object:t});var l=this.getKeys(r,t),d=e||{};e||this.transformationType!==a.PLAIN_TO_CLASS&&this.transformationType!==a.CLASS_TO_CLASS||(d=s?new Map:r?new r:{});for(var f=function(n){var c=n,u=n,l=n;if(!h.options.ignoreDecorators&&r)if(h.transformationType===a.PLAIN_TO_CLASS){(f=o.defaultMetadataStorage.findExposeMetadataByCustomName(r,n))&&(l=f.propertyName,u=f.propertyName)}else if(h.transformationType===a.CLASS_TO_PLAIN||h.transformationType===a.CLASS_TO_CLASS){var f;(f=o.defaultMetadataStorage.findExposeMetadata(r,n))&&f.options&&f.options.name&&(u=f.options.name)}var p=void 0,v=void 0,m=(p=t instanceof Map?t.get(c):t[c]instanceof Function?t[c]():t[c])instanceof Map;if(r&&s)v=r;else if(r){var g=o.defaultMetadataStorage.findTypeMetadata(r,l);if(g){var y={newObject:d,object:t,property:l};v=g.typeFunction(y),m=m||g.reflectedType===Map}else h.options.targetMaps&&h.options.targetMaps.filter(function(e){return e.target===r&&!!e.properties[l]}).forEach(function(e){return v=e.properties[l]})}var _=t[c]instanceof Array?h.getReflectedType(r,l):void 0,b=e?e[c]:void 0;if(d.constructor.prototype){var P=Object.getOwnPropertyDescriptor(d.constructor.prototype,u);if((h.transformationType===a.PLAIN_TO_CLASS||h.transformationType===a.CLASS_TO_CLASS)&&(d[u]instanceof Function||P&&!P.set))return"continue"}if(h.options.enableCircularCheck&&h.isCircular(p,i)){if(h.transformationType===a.CLASS_TO_CLASS){S=p;S=h.applyCustomTransformations(S,r,n,t,h.transformationType),d instanceof Map?d.set(u,S):d[u]=S}}else{var w=h.transformationType===a.PLAIN_TO_CLASS?u:n,S=h.transform(b,p,v,_,m,i+1);S=h.applyCustomTransformations(S,r,w,t,h.transformationType),d instanceof Map?d.set(u,S):d[u]=S}},h=this,p=0,v=l;p<v.length;p++){f(v[p])}return d}return t}return Boolean(t)}return Number(t)}return String(t)},TransformOperationExecutor.prototype.applyCustomTransformations=function(e,t,r,a,n){var s=this,i=o.defaultMetadataStorage.findTransformMetadatas(t,r,this.transformationType);return void 0!==this.options.version&&(i=i.filter(function(e){return!e.options||s.checkVersion(e.options.since,e.options.until)})),(i=this.options.groups&&this.options.groups.length?i.filter(function(e){return!e.options||s.checkGroups(e.options.groups)}):i.filter(function(e){return!e.options||!e.options.groups||!e.options.groups.length})).forEach(function(t){e=t.transformFn(e,a,n)}),e},TransformOperationExecutor.prototype.isCircular=function(e,t){var r=this.transformedTypesMap.get(e);return void 0!==r&&r.level<t},TransformOperationExecutor.prototype.getReflectedType=function(e,t){if(e){var r=o.defaultMetadataStorage.findTypeMetadata(e,t);return r?r.reflectedType:void 0}},TransformOperationExecutor.prototype.getKeys=function(e,t){var r=this,n=o.defaultMetadataStorage.getStrategy(e);"none"===n&&(n=this.options.strategy||"exposeAll");var s=[];if("exposeAll"===n&&(s=t instanceof Map?Array.from(t.keys()):Object.keys(t)),!this.options.ignoreDecorators&&e){var i=o.defaultMetadataStorage.getExposedProperties(e,this.transformationType);this.transformationType===a.PLAIN_TO_CLASS&&(i=i.map(function(t){var r=o.defaultMetadataStorage.findExposeMetadata(e,t);return r&&r.options&&r.options.name?r.options.name:t})),s=s.concat(i);var c=o.defaultMetadataStorage.getExcludedProperties(e,this.transformationType);c.length>0&&(s=s.filter(function(e){return-1===c.indexOf(e)})),void 0!==this.options.version&&(s=s.filter(function(t){var a=o.defaultMetadataStorage.findExposeMetadata(e,t);return!a||!a.options||r.checkVersion(a.options.since,a.options.until)})),s=this.options.groups&&this.options.groups.length?s.filter(function(t){var a=o.defaultMetadataStorage.findExposeMetadata(e,t);return!a||!a.options||r.checkGroups(a.options.groups)}):s.filter(function(t){var r=o.defaultMetadataStorage.findExposeMetadata(e,t);return!(r&&r.options&&r.options.groups&&r.options.groups.length)})}return this.options.excludePrefixes&&this.options.excludePrefixes.length&&(s=s.filter(function(e){return r.options.excludePrefixes.every(function(t){return e.substr(0,t.length)!==t})})),s=s.filter(function(e,t,r){return r.indexOf(e)===t})},TransformOperationExecutor.prototype.checkVersion=function(e,t){var r=!0;return r&&e&&(r=this.options.version>=e),r&&t&&(r=this.options.version<t),r},TransformOperationExecutor.prototype.checkGroups=function(e){return!e||this.options.groups.some(function(t){return-1!==e.indexOf(t)})},TransformOperationExecutor}();t.TransformOperationExecutor=n},"./node_modules/class-transformer/decorators.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("./node_modules/class-transformer/ClassTransformer.js"),o=r("./node_modules/class-transformer/storage.js"),n=r("./node_modules/class-transformer/metadata/TypeMetadata.js"),s=r("./node_modules/class-transformer/metadata/ExposeMetadata.js"),i=r("./node_modules/class-transformer/metadata/ExcludeMetadata.js"),c=r("./node_modules/class-transformer/metadata/TransformMetadata.js");t.Transform=function Transform(e,t){return function(r,a){var n=new c.TransformMetadata(r.constructor,a,e,t);o.defaultMetadataStorage.addTransformMetadata(n)}},t.Type=function Type(e){return function(t,r){var a=Reflect.getMetadata("design:type",t,r),s=new n.TypeMetadata(t.constructor,r,a,e);o.defaultMetadataStorage.addTypeMetadata(s)}},t.Expose=function Expose(e){return function(t,r){var a=new s.ExposeMetadata(t instanceof Function?t:t.constructor,r,e||{});o.defaultMetadataStorage.addExposeMetadata(a)}},t.Exclude=function Exclude(e){return function(t,r){var a=new i.ExcludeMetadata(t instanceof Function?t:t.constructor,r,e||{});o.defaultMetadataStorage.addExcludeMetadata(a)}},t.TransformClassToPlain=function TransformClassToPlain(e){return function(t,r,o){var n=new a.ClassTransformer,s=o.value;o.value=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var a=s.apply(this,t);return!a||"object"!=typeof a&&"function"!=typeof a||"function"!=typeof a.then?n.classToPlain(a,e):a.then(function(t){return n.classToPlain(t,e)})}}},t.TransformClassToClass=function TransformClassToClass(e){return function(t,r,o){var n=new a.ClassTransformer,s=o.value;o.value=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var a=s.apply(this,t);return!a||"object"!=typeof a&&"function"!=typeof a||"function"!=typeof a.then?n.classToClass(a,e):a.then(function(t){return n.classToClass(t,e)})}}}},"./node_modules/class-transformer/index.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("./node_modules/class-transformer/ClassTransformer.js"),o=r("./node_modules/class-transformer/ClassTransformer.js");t.ClassTransformer=o.ClassTransformer,function __export(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r("./node_modules/class-transformer/decorators.js"));var n=new a.ClassTransformer;t.classToPlain=function classToPlain(e,t){return n.classToPlain(e,t)},t.classToPlainFromExist=function classToPlainFromExist(e,t,r){return n.classToPlainFromExist(e,t,r)},t.plainToClass=function plainToClass(e,t,r){return n.plainToClass(e,t,r)},t.plainToClassFromExist=function plainToClassFromExist(e,t,r){return n.plainToClassFromExist(e,t,r)},t.classToClass=function classToClass(e,t){return n.classToClass(e,t)},t.classToClassFromExist=function classToClassFromExist(e,t,r){return n.classToClassFromExist(e,t,r)},t.serialize=function serialize(e,t){return n.serialize(e,t)},t.deserialize=function deserialize(e,t,r){return n.deserialize(e,t,r)},t.deserializeArray=function deserializeArray(e,t,r){return n.deserializeArray(e,t,r)};!function(e){e[e.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",e[e.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",e[e.CLASS_TO_CLASS=2]="CLASS_TO_CLASS"}(t.TransformationType||(t.TransformationType={}))},"./node_modules/class-transformer/metadata/ExcludeMetadata.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){return function ExcludeMetadata(e,t,r){this.target=e,this.propertyName=t,this.options=r}}();t.ExcludeMetadata=a},"./node_modules/class-transformer/metadata/ExposeMetadata.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){return function ExposeMetadata(e,t,r){this.target=e,this.propertyName=t,this.options=r}}();t.ExposeMetadata=a},"./node_modules/class-transformer/metadata/MetadataStorage.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("./node_modules/class-transformer/TransformOperationExecutor.js"),o=function(){function MetadataStorage(){this._typeMetadatas=[],this._transformMetadatas=[],this._exposeMetadatas=[],this._excludeMetadatas=[]}return MetadataStorage.prototype.addTypeMetadata=function(e){this._typeMetadatas.push(e)},MetadataStorage.prototype.addTransformMetadata=function(e){this._transformMetadatas.push(e)},MetadataStorage.prototype.addExposeMetadata=function(e){this._exposeMetadatas.push(e)},MetadataStorage.prototype.addExcludeMetadata=function(e){this._excludeMetadatas.push(e)},MetadataStorage.prototype.findTransformMetadatas=function(e,t,r){return this.findMetadatas(this._transformMetadatas,e,t).filter(function(e){return!e.options||(!0===e.options.toClassOnly&&!0===e.options.toPlainOnly||(!0===e.options.toClassOnly?r===a.TransformationType.CLASS_TO_CLASS||r===a.TransformationType.PLAIN_TO_CLASS:!0!==e.options.toPlainOnly||r===a.TransformationType.CLASS_TO_PLAIN))})},MetadataStorage.prototype.findExcludeMetadata=function(e,t){return this.findMetadata(this._excludeMetadatas,e,t)},MetadataStorage.prototype.findExposeMetadata=function(e,t){return this.findMetadata(this._exposeMetadatas,e,t)},MetadataStorage.prototype.findExposeMetadataByCustomName=function(e,t){return this.getExposedMetadatas(e).find(function(e){return e.options&&e.options.name===t})},MetadataStorage.prototype.findTypeMetadata=function(e,t){return this.findMetadata(this._typeMetadatas,e,t)},MetadataStorage.prototype.getStrategy=function(e){var t=this._excludeMetadatas.find(function(t){return t.target===e&&void 0===t.propertyName}),r=this._exposeMetadatas.find(function(t){return t.target===e&&void 0===t.propertyName});return t&&r||!t&&!r?"none":t?"excludeAll":"exposeAll"},MetadataStorage.prototype.getExposedMetadatas=function(e){return this.getMetadata(this._exposeMetadatas,e)},MetadataStorage.prototype.getExcludedMetadatas=function(e){return this.getMetadata(this._excludeMetadatas,e)},MetadataStorage.prototype.getExposedProperties=function(e,t){return this.getExposedMetadatas(e).filter(function(e){return!e.options||(!0===e.options.toClassOnly&&!0===e.options.toPlainOnly||(!0===e.options.toClassOnly?t===a.TransformationType.CLASS_TO_CLASS||t===a.TransformationType.PLAIN_TO_CLASS:!0!==e.options.toPlainOnly||t===a.TransformationType.CLASS_TO_PLAIN))}).map(function(e){return e.propertyName})},MetadataStorage.prototype.getExcludedProperties=function(e,t){return this.getExcludedMetadatas(e).filter(function(e){return!e.options||(!0===e.options.toClassOnly&&!0===e.options.toPlainOnly||(!0===e.options.toClassOnly?t===a.TransformationType.CLASS_TO_CLASS||t===a.TransformationType.PLAIN_TO_CLASS:!0!==e.options.toPlainOnly||t===a.TransformationType.CLASS_TO_PLAIN))}).map(function(e){return e.propertyName})},MetadataStorage.prototype.clear=function(){this._typeMetadatas=[],this._exposeMetadatas=[],this._excludeMetadatas=[]},MetadataStorage.prototype.getMetadata=function(e,t){var r=e.filter(function(e){return e.target===t&&void 0!==e.propertyName});return e.filter(function(e){return t.prototype instanceof e.target&&void 0!==e.propertyName}).concat(r)},MetadataStorage.prototype.findMetadata=function(e,t,r){var a=e.find(function(e){return e.target===t&&e.propertyName===r}),o=e.find(function(e){return t.prototype instanceof e.target&&e.propertyName===r});return a||o},MetadataStorage.prototype.findMetadatas=function(e,t,r){var a=e.filter(function(e){return e.target===t&&e.propertyName===r});return e.filter(function(e){return t.prototype instanceof e.target&&e.propertyName===r}).reverse().concat(a.reverse())},MetadataStorage}();t.MetadataStorage=o},"./node_modules/class-transformer/metadata/TransformMetadata.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){return function TransformMetadata(e,t,r,a){this.target=e,this.propertyName=t,this.transformFn=r,this.options=a}}();t.TransformMetadata=a},"./node_modules/class-transformer/metadata/TypeMetadata.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){return function TypeMetadata(e,t,r,a){this.target=e,this.propertyName=t,this.reflectedType=r,this.typeFunction=a}}();t.TypeMetadata=a},"./node_modules/class-transformer/storage.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("./node_modules/class-transformer/metadata/MetadataStorage.js");t.defaultMetadataStorage=new a.MetadataStorage},"./node_modules/co/index.js":function(e,t){function co(e){var t=this,a=r.call(arguments,1);return new Promise(function(r,o){function onFulfilled(t){var r;try{r=e.next(t)}catch(e){return o(e)}next(r)}function onRejected(t){var r;try{r=e.throw(t)}catch(e){return o(e)}next(r)}function next(e){if(e.done)return r(e.value);var a=toPromise.call(t,e.value);return a&&isPromise(a)?a.then(onFulfilled,onRejected):onRejected(new TypeError('You may only yield a function, promise, generator, array, or object, but the following object was passed: "'+String(e.value)+'"'))}if("function"==typeof e&&(e=e.apply(t,a)),!e||"function"!=typeof e.next)return r(e);onFulfilled()})}function toPromise(e){return e?isPromise(e)?e:function isGeneratorFunction(e){var t=e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName||isGenerator(t.prototype))}(e)||isGenerator(e)?co.call(this,e):"function"==typeof e?function thunkToPromise(e){var t=this;return new Promise(function(a,o){e.call(t,function(e,t){if(e)return o(e);arguments.length>2&&(t=r.call(arguments,1)),a(t)})})}.call(this,e):Array.isArray(e)?function arrayToPromise(e){return Promise.all(e.map(toPromise,this))}.call(this,e):function isObject(e){return Object==e.constructor}(e)?function objectToPromise(e){for(var t=new e.constructor,r=Object.keys(e),a=[],o=0;o<r.length;o++){var n=r[o],s=toPromise.call(this,e[n]);s&&isPromise(s)?function defer(e,r){t[r]=void 0,a.push(e.then(function(e){t[r]=e}))}(s,n):t[n]=e[n]}return Promise.all(a).then(function(){return t})}.call(this,e):e:e}function isPromise(e){return"function"==typeof e.then}function isGenerator(e){return"function"==typeof e.next&&"function"==typeof e.throw}var r=Array.prototype.slice;e.exports=co.default=co.co=co,co.wrap=function(e){function createPromise(){return co.call(this,e.apply(this,arguments))}return createPromise.__generatorFunction__=e,createPromise}},"./node_modules/events/events.js":function(e,t){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}e.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!function isNumber(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,r,a,o,n,s;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var i=new Error('Uncaught, unspecified "error" event. ('+t+")");throw i.context=t,i}if(r=this._events[e],isUndefined(r))return!1;if(isFunction(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),r.apply(this,o)}else if(isObject(r))for(o=Array.prototype.slice.call(arguments,1),a=(s=r.slice()).length,n=0;n<a;n++)s[n].apply(this,o);return!0},EventEmitter.prototype.addListener=function(e,t){var r;if(!isFunction(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned&&(r=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function g(){this.removeListener(e,g),r||(r=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var r=!1;return g.listener=t,this.on(e,g),this},EventEmitter.prototype.removeListener=function(e,t){var r,a,o,n;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],o=r.length,a=-1,r===t||isFunction(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(r)){for(n=o;n-- >0;)if(r[n]===t||r[n].listener&&r[n].listener===t){a=n;break}if(a<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(a,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],isFunction(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){return this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(isFunction(t))return 1;if(t)return t.length}return 0},EventEmitter.listenerCount=function(e,t){return e.listenerCount(t)}},"./node_modules/fast-deep-equal/index.js":function(e,t,r){"use strict";e.exports=function equal(e,t){if(e===t)return!0;var r,a=Array.isArray(e),o=Array.isArray(t);if(a&&o){if(e.length!=t.length)return!1;for(r=0;r<e.length;r++)if(!equal(e[r],t[r]))return!1;return!0}if(a!=o)return!1;if(e&&t&&"object"==typeof e&&"object"==typeof t){var n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;var s=e instanceof Date,i=t instanceof Date;if(s&&i)return e.getTime()==t.getTime();if(s!=i)return!1;var c=e instanceof RegExp,u=t instanceof RegExp;if(c&&u)return e.toString()==t.toString();if(c!=u)return!1;for(r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r]))return!1;for(r=0;r<n.length;r++)if(!equal(e[n[r]],t[n[r]]))return!1;return!0}return!1}},"./node_modules/fast-json-stable-stringify/index.js":function(e,t,r){"use strict";e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r="boolean"==typeof t.cycles&&t.cycles,a=t.cmp&&function(e){return function(t){return function(r,a){var o={key:r,value:t[r]},n={key:a,value:t[a]};return e(o,n)}}}(t.cmp),o=[];return function stringify(e){if(e&&e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON()),void 0!==e){if("number"==typeof e)return isFinite(e)?""+e:"null";if("object"!=typeof e)return JSON.stringify(e);var t,n;if(Array.isArray(e)){for(n="[",t=0;t<e.length;t++)t&&(n+=","),n+=stringify(e[t])||"null";return n+"]"}if(null===e)return"null";if(-1!==o.indexOf(e)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=o.push(e)-1,i=Object.keys(e).sort(a&&a(e));for(n="",t=0;t<i.length;t++){var c=i[t],u=stringify(e[c]);u&&(n&&(n+=","),n+=JSON.stringify(c)+":"+u)}return o.splice(s,1),"{"+n+"}"}}(e)}},"./node_modules/json-schema-traverse/index.js":function(e,t,r){"use strict";function _traverse(e,t,r,o,n,s,i,c,u){if(r&&"object"==typeof r&&!Array.isArray(r)){t(r,o,n,s,i,c,u);for(var l in r){var d=r[l];if(Array.isArray(d)){if(l in a.arrayKeywords)for(var f=0;f<d.length;f++)_traverse(e,t,d[f],o+"/"+l+"/"+f,n,o,l,r,f)}else if(l in a.propsKeywords){if(d&&"object"==typeof d)for(var h in d)_traverse(e,t,d[h],o+"/"+l+"/"+function escapeJsonPtr(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}(h),n,o,l,r,h)}else(l in a.keywords||e.allKeys&&!(l in a.skipKeywords))&&_traverse(e,t,d,o+"/"+l,n,o,l,r)}}}var a=e.exports=function(e,t,r){"function"==typeof t&&(r=t,t={}),_traverse(t,r,e,"",e)};a.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},a.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},a.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},a.skipKeywords={enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},"./node_modules/process/browser.js":function(e,t){function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(r===setTimeout)return setTimeout(e,0);if((r===defaultSetTimout||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function cleanUpNextTick(){i&&n&&(i=!1,n.length?s=n.concat(s):c=-1,s.length&&drainQueue())}function drainQueue(){if(!i){var e=runTimeout(cleanUpNextTick);i=!0;for(var t=s.length;t;){for(n=s,s=[];++c<t;)n&&n[c].run();c=-1,t=s.length}n=null,i=!1,function runClearTimeout(e){if(a===clearTimeout)return clearTimeout(e);if((a===defaultClearTimeout||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{return a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var r,a,o=e.exports={};!function(){try{r="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){r=defaultSetTimout}try{a="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){a=defaultClearTimeout}}();var n,s=[],i=!1,c=-1;o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];s.push(new Item(e,t)),1!==s.length||i||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=noop,o.addListener=noop,o.once=noop,o.off=noop,o.removeListener=noop,o.removeAllListeners=noop,o.emit=noop,o.prependListener=noop,o.prependOnceListener=noop,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},"./node_modules/punycode/punycode.js":function(e,t,r){(function(e,a){var o;!function(n){function error(e){throw new RangeError(b[e])}function map(e,t){for(var r=e.length,a=[];r--;)a[r]=t(e[r]);return a}function mapDomain(e,t){var r=e.split("@"),a="";r.length>1&&(a=r[0]+"@",e=r[1]);return a+map((e=e.replace(_,".")).split("."),t).join(".")}function ucs2decode(e){for(var t,r,a=[],o=0,n=e.length;o<n;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<n?56320==(64512&(r=e.charCodeAt(o++)))?a.push(((1023&t)<<10)+(1023&r)+65536):(a.push(t),o--):a.push(t);return a}function ucs2encode(e){return map(e,function(e){var t="";return e>65535&&(t+=S((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=S(e)}).join("")}function basicToDigit(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:u}function digitToBasic(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function adapt(e,t,r){var a=0;for(e=r?w(e/h):e>>1,e+=w(e/t);e>P*d>>1;a+=u)e=w(e/P);return w(a+(P+1)*e/(e+f))}function decode(e){var t,r,a,o,n,s,i,f,h,g,y=[],_=e.length,b=0,P=v,S=p;for((r=e.lastIndexOf(m))<0&&(r=0),a=0;a<r;++a)e.charCodeAt(a)>=128&&error("not-basic"),y.push(e.charCodeAt(a));for(o=r>0?r+1:0;o<_;){for(n=b,s=1,i=u;o>=_&&error("invalid-input"),((f=basicToDigit(e.charCodeAt(o++)))>=u||f>w((c-b)/s))&&error("overflow"),b+=f*s,h=i<=S?l:i>=S+d?d:i-S,!(f<h);i+=u)s>w(c/(g=u-h))&&error("overflow"),s*=g;S=adapt(b-n,t=y.length+1,0==n),w(b/t)>c-P&&error("overflow"),P+=w(b/t),b%=t,y.splice(b++,0,P)}return ucs2encode(y)}function encode(e){var t,r,a,o,n,s,i,f,h,g,y,_,b,P,j,E=[];for(_=(e=ucs2decode(e)).length,t=v,r=0,n=p,s=0;s<_;++s)(y=e[s])<128&&E.push(S(y));for(a=o=E.length,o&&E.push(m);a<_;){for(i=c,s=0;s<_;++s)(y=e[s])>=t&&y<i&&(i=y);for(i-t>w((c-r)/(b=a+1))&&error("overflow"),r+=(i-t)*b,t=i,s=0;s<_;++s)if((y=e[s])<t&&++r>c&&error("overflow"),y==t){for(f=r,h=u;g=h<=n?l:h>=n+d?d:h-n,!(f<g);h+=u)j=f-g,P=u-g,E.push(S(digitToBasic(g+j%P,0))),f=w(j/P);E.push(S(digitToBasic(f,0))),n=adapt(r,b,a==o),r=0,++a}++r,++t}return E.join("")}"object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType;var s="object"==typeof a&&a;var i,c=2147483647,u=36,l=1,d=26,f=38,h=700,p=72,v=128,m="-",g=/^xn--/,y=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},P=u-l,w=Math.floor,S=String.fromCharCode;i={version:"1.4.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:function toASCII(e){return mapDomain(e,function(e){return y.test(e)?"xn--"+encode(e):e})},toUnicode:function toUnicode(e){return mapDomain(e,function(e){return g.test(e)?decode(e.slice(4).toLowerCase()):e})}},void 0===(o=function(){return i}.call(t,r,t,e))||(e.exports=o)}()}).call(t,r("./node_modules/webpack/buildin/module.js")(e),r("./node_modules/webpack/buildin/global.js"))},"./node_modules/querystring-es3/decode.js":function(e,t,r){"use strict";function hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,o){t=t||"&",r=r||"=";var n={};if("string"!=typeof e||0===e.length)return n;var s=/\+/g;e=e.split(t);var i=1e3;o&&"number"==typeof o.maxKeys&&(i=o.maxKeys);var c=e.length;i>0&&c>i&&(c=i);for(var u=0;u<c;++u){var l,d,f,h,p=e[u].replace(s,"%20"),v=p.indexOf(r);v>=0?(l=p.substr(0,v),d=p.substr(v+1)):(l=p,d=""),f=decodeURIComponent(l),h=decodeURIComponent(d),hasOwnProperty(n,f)?a(n[f])?n[f].push(h):n[f]=[n[f],h]:n[f]=h}return n};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},"./node_modules/querystring-es3/encode.js":function(e,t,r){"use strict";function map(e,t){if(e.map)return e.map(t);for(var r=[],a=0;a<e.length;a++)r.push(t(e[a],a));return r}var a=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,s){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?map(n(e),function(n){var s=encodeURIComponent(a(n))+r;return o(e[n])?map(e[n],function(e){return s+encodeURIComponent(a(e))}).join(t):s+encodeURIComponent(a(e[n]))}).join(t):s?encodeURIComponent(a(s))+r+encodeURIComponent(a(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},"./node_modules/querystring-es3/index.js":function(e,t,r){"use strict";t.decode=t.parse=r("./node_modules/querystring-es3/decode.js"),t.encode=t.stringify=r("./node_modules/querystring-es3/encode.js")},"./node_modules/reflect-metadata/Reflect.js":function(e,t,r){(function(e,t){var r;!function(r){"use strict";function GetOrCreateMetadataMap(e,t,r){var a=f.get(e);if(IsUndefined(a)){if(!r)return;a=new l,f.set(e,a)}var o=a.get(t);if(IsUndefined(o)){if(!r)return;o=new l,a.set(t,o)}return o}function OrdinaryHasMetadata(e,t,r){if(OrdinaryHasOwnMetadata(e,t,r))return!0;var a=OrdinaryGetPrototypeOf(t);return!IsNull(a)&&OrdinaryHasMetadata(e,a,r)}function OrdinaryHasOwnMetadata(e,t,r){var a=GetOrCreateMetadataMap(t,r,!1);return!IsUndefined(a)&&function ToBoolean(e){return!!e}(a.has(e))}function OrdinaryGetMetadata(e,t,r){if(OrdinaryHasOwnMetadata(e,t,r))return OrdinaryGetOwnMetadata(e,t,r);var a=OrdinaryGetPrototypeOf(t);return IsNull(a)?void 0:OrdinaryGetMetadata(e,a,r)}function OrdinaryGetOwnMetadata(e,t,r){var a=GetOrCreateMetadataMap(t,r,!1);if(!IsUndefined(a))return a.get(e)}function OrdinaryDefineOwnMetadata(e,t,r,a){GetOrCreateMetadataMap(r,a,!0).set(e,t)}function OrdinaryMetadataKeys(e,t){var r=OrdinaryOwnMetadataKeys(e,t),a=OrdinaryGetPrototypeOf(e);if(null===a)return r;var o=OrdinaryMetadataKeys(a,t);if(o.length<=0)return r;if(r.length<=0)return o;for(var n=new d,s=[],i=0,c=r;i<c.length;i++){var u=c[i];n.has(u)||(n.add(u),s.push(u))}for(var l=0,f=o;l<f.length;l++){u=f[l];n.has(u)||(n.add(u),s.push(u))}return s}function OrdinaryOwnMetadataKeys(e,t){var r=[],a=GetOrCreateMetadataMap(e,t,!1);if(IsUndefined(a))return r;for(var o=function GetIterator(e){var t=GetMethod(e,i);if(!IsCallable(t))throw new TypeError;var r=t.call(e);if(!IsObject(r))throw new TypeError;return r}(a.keys()),n=0;;){var s=function IteratorStep(e){var t=e.next();return!t.done&&t}(o);if(!s)return r.length=n,r;var c=function IteratorValue(e){return e.value}(s);try{r[n]=c}catch(e){try{!function IteratorClose(e){var t=e.return;t&&t.call(e)}(o)}finally{throw e}}n++}}function Type(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function IsUndefined(e){return void 0===e}function IsNull(e){return null===e}function IsObject(e){return"object"==typeof e?null!==e:"function"==typeof e}function ToPrimitive(e,t){switch(Type(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var r=3===t?"string":5===t?"number":"default",a=GetMethod(e,s);if(void 0!==a){var o=a.call(e,r);if(IsObject(o))throw new TypeError;return o}return function OrdinaryToPrimitive(e,t){if("string"===t){var r=e.toString;if(IsCallable(r)){var a=r.call(e);if(!IsObject(a))return a}var o=e.valueOf;if(IsCallable(o)){var a=o.call(e);if(!IsObject(a))return a}}else{var o=e.valueOf;if(IsCallable(o)){var a=o.call(e);if(!IsObject(a))return a}var n=e.toString;if(IsCallable(n)){var a=n.call(e);if(!IsObject(a))return a}}throw new TypeError}(e,"default"===r?"number":r)}function ToPropertyKey(e){var t=ToPrimitive(e,3);return function IsSymbol(e){return"symbol"==typeof e}(t)?t:function ToString(e){return""+e}(t)}function IsArray(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function IsCallable(e){return"function"==typeof e}function IsConstructor(e){return"function"==typeof e}function GetMethod(e,t){var r=e[t];if(void 0!==r&&null!==r){if(!IsCallable(r))throw new TypeError;return r}}function OrdinaryGetPrototypeOf(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===c)return t;if(t!==c)return t;var r=e.prototype,a=r&&Object.getPrototypeOf(r);if(null==a||a===Object.prototype)return t;var o=a.constructor;return"function"!=typeof o?t:o===e?t:o}function MakeDictionary(e){return e.__=void 0,delete e.__,e}var a,o=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,s=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator";!function(e){var t="function"==typeof Object.create,r={__proto__:[]}instanceof Array,a=!t&&!r;e.create=t?function(){return MakeDictionary(Object.create(null))}:r?function(){return MakeDictionary({__proto__:null})}:function(){return MakeDictionary({})},e.has=a?function(e,t){return o.call(e,t)}:function(e,t){return t in e},e.get=a?function(e,t){return o.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}}(a||(a={}));var c=Object.getPrototypeOf(Function),u="object"==typeof e&&Object({NODE_ENV:"production"})&&"true"===Object({NODE_ENV:"production"}).REFLECT_METADATA_USE_MAP_POLYFILL,l=u||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function CreateMapPolyfill(){function getKey(e,t){return e}function getValue(e,t){return t}function getEntry(e,t){return[e,t]}var e={},t=[],r=function(){function MapIterator(e,t,r){this._index=0,this._keys=e,this._values=t,this._selector=r}return MapIterator.prototype["@@iterator"]=function(){return this},MapIterator.prototype[i]=function(){return this},MapIterator.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},MapIterator.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},MapIterator.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},MapIterator}();return function(){function Map(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(Map.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Map.prototype.has=function(e){return this._find(e,!1)>=0},Map.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},Map.prototype.set=function(e,t){var r=this._find(e,!0);return this._values[r]=t,this},Map.prototype.delete=function(t){var r=this._find(t,!1);if(r>=0){for(var a=this._keys.length,o=r+1;o<a;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},Map.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},Map.prototype.keys=function(){return new r(this._keys,this._values,getKey)},Map.prototype.values=function(){return new r(this._keys,this._values,getValue)},Map.prototype.entries=function(){return new r(this._keys,this._values,getEntry)},Map.prototype["@@iterator"]=function(){return this.entries()},Map.prototype[i]=function(){return this.entries()},Map.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},Map}()}():Map,d=u||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function CreateSetPolyfill(){return function(){function Set(){this._map=new l}return Object.defineProperty(Set.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),Set.prototype.has=function(e){return this._map.has(e)},Set.prototype.add=function(e){return this._map.set(e,e),this},Set.prototype.delete=function(e){return this._map.delete(e)},Set.prototype.clear=function(){this._map.clear()},Set.prototype.keys=function(){return this._map.keys()},Set.prototype.values=function(){return this._map.values()},Set.prototype.entries=function(){return this._map.entries()},Set.prototype["@@iterator"]=function(){return this.keys()},Set.prototype[i]=function(){return this.keys()},Set}()}():Set,f=new(u||"function"!=typeof WeakMap?function CreateWeakMapPolyfill(){function CreateUniqueKey(){var r;do{r="@@WeakMap@@"+function CreateUUID(){var t=function GenRandomBytes(e){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):FillRandomBytes(new Uint8Array(e),e):FillRandomBytes(new Array(e),e)}(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var r="",a=0;a<e;++a){var o=t[a];4!==a&&6!==a&&8!==a||(r+="-"),o<16&&(r+="0"),r+=o.toString(16).toLowerCase()}return r}()}while(a.has(t,r));return t[r]=!0,r}function GetOrCreateWeakMapTable(e,t){if(!o.call(e,r)){if(!t)return;Object.defineProperty(e,r,{value:a.create()})}return e[r]}function FillRandomBytes(e,t){for(var r=0;r<t;++r)e[r]=255*Math.random()|0;return e}var e=16,t=a.create(),r=CreateUniqueKey();return function(){function WeakMap(){this._key=CreateUniqueKey()}return WeakMap.prototype.has=function(e){var t=GetOrCreateWeakMapTable(e,!1);return void 0!==t&&a.has(t,this._key)},WeakMap.prototype.get=function(e){var t=GetOrCreateWeakMapTable(e,!1);return void 0!==t?a.get(t,this._key):void 0},WeakMap.prototype.set=function(e,t){return GetOrCreateWeakMapTable(e,!0)[this._key]=t,this},WeakMap.prototype.delete=function(e){var t=GetOrCreateWeakMapTable(e,!1);return void 0!==t&&delete t[this._key]},WeakMap.prototype.clear=function(){this._key=CreateUniqueKey()},WeakMap}()}():WeakMap);r.decorate=function decorate(e,t,r,a){if(IsUndefined(r)){if(!IsArray(e))throw new TypeError;if(!IsConstructor(t))throw new TypeError;return function DecorateConstructor(e,t){for(var r=e.length-1;r>=0;--r){var a=e[r],o=a(t);if(!IsUndefined(o)&&!IsNull(o)){if(!IsConstructor(o))throw new TypeError;t=o}}return t}(e,t)}if(!IsArray(e))throw new TypeError;if(!IsObject(t))throw new TypeError;if(!IsObject(a)&&!IsUndefined(a)&&!IsNull(a))throw new TypeError;return IsNull(a)&&(a=void 0),r=ToPropertyKey(r),function DecorateProperty(e,t,r,a){for(var o=e.length-1;o>=0;--o){var n=e[o],s=n(t,r,a);if(!IsUndefined(s)&&!IsNull(s)){if(!IsObject(s))throw new TypeError;a=s}}return a}(e,t,r,a)},r.metadata=function metadata(e,t){return function decorator(r,a){if(!IsObject(r))throw new TypeError;if(!IsUndefined(a)&&!function IsPropertyKey(e){switch(Type(e)){case 3:case 4:return!0;default:return!1}}(a))throw new TypeError;OrdinaryDefineOwnMetadata(e,t,r,a)}},r.defineMetadata=function defineMetadata(e,t,r,a){if(!IsObject(r))throw new TypeError;return IsUndefined(a)||(a=ToPropertyKey(a)),OrdinaryDefineOwnMetadata(e,t,r,a)},r.hasMetadata=function hasMetadata(e,t,r){if(!IsObject(t))throw new TypeError;return IsUndefined(r)||(r=ToPropertyKey(r)),OrdinaryHasMetadata(e,t,r)},r.hasOwnMetadata=function hasOwnMetadata(e,t,r){if(!IsObject(t))throw new TypeError;return IsUndefined(r)||(r=ToPropertyKey(r)),OrdinaryHasOwnMetadata(e,t,r)},r.getMetadata=function getMetadata(e,t,r){if(!IsObject(t))throw new TypeError;return IsUndefined(r)||(r=ToPropertyKey(r)),OrdinaryGetMetadata(e,t,r)},r.getOwnMetadata=function getOwnMetadata(e,t,r){if(!IsObject(t))throw new TypeError;return IsUndefined(r)||(r=ToPropertyKey(r)),OrdinaryGetOwnMetadata(e,t,r)},r.getMetadataKeys=function getMetadataKeys(e,t){if(!IsObject(e))throw new TypeError;return IsUndefined(t)||(t=ToPropertyKey(t)),OrdinaryMetadataKeys(e,t)},r.getOwnMetadataKeys=function getOwnMetadataKeys(e,t){if(!IsObject(e))throw new TypeError;return IsUndefined(t)||(t=ToPropertyKey(t)),OrdinaryOwnMetadataKeys(e,t)},r.deleteMetadata=function deleteMetadata(e,t,r){if(!IsObject(t))throw new TypeError;IsUndefined(r)||(r=ToPropertyKey(r));var a=GetOrCreateMetadataMap(t,r,!1);if(IsUndefined(a))return!1;if(!a.delete(e))return!1;if(a.size>0)return!0;var o=f.get(t);return o.delete(r),o.size>0||(f.delete(t),!0)},function(e){if(void 0!==e.Reflect){if(e.Reflect!==r)for(var t in r)o.call(r,t)&&(e.Reflect[t]=r[t])}else e.Reflect=r}(void 0!==t?t:"undefined"!=typeof self?self:Function("return this;")())}(r||(r={}))}).call(t,r("./node_modules/process/browser.js"),r("./node_modules/webpack/buildin/global.js"))},"./node_modules/url/url.js":function(e,t,r){"use strict";function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function urlParse(e,t,r){if(e&&o.isObject(e)&&e instanceof Url)return e;var a=new Url;return a.parse(e,t,r),a}var a=r("./node_modules/punycode/punycode.js"),o=r("./node_modules/url/util.js");t.parse=urlParse,t.resolve=function urlResolve(e,t){return urlParse(e,!1,!0).resolve(t)},t.resolveObject=function urlResolveObject(e,t){return e?urlParse(e,!1,!0).resolveObject(t):t},t.format=function urlFormat(e){return o.isString(e)&&(e=urlParse(e)),e instanceof Url?e.format():Url.prototype.format.call(e)},t.Url=Url;var n=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,i=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(c),l=["%","/","?",";","#"].concat(u),d=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=r("./node_modules/querystring-es3/index.js");Url.prototype.parse=function(e,t,r){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var s=e.indexOf("?"),c=-1!==s&&s<e.indexOf("#")?"?":"#",y=e.split(c);y[0]=y[0].replace(/\\/g,"/");var _=e=y.join(c);if(_=_.trim(),!r&&1===e.split("#").length){var b=i.exec(_);if(b)return this.path=_,this.href=_,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?g.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var P=n.exec(_);if(P){var w=(P=P[0]).toLowerCase();this.protocol=w,_=_.substr(P.length)}if(r||P||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===_.substr(0,2);!S||P&&v[P]||(_=_.substr(2),this.slashes=!0)}if(!v[P]&&(S||P&&!m[P])){for(var j=-1,E=0;E<d.length;E++){-1!==(I=_.indexOf(d[E]))&&(-1===j||I<j)&&(j=I)}var O,x;-1!==(x=-1===j?_.lastIndexOf("@"):_.lastIndexOf("@",j))&&(O=_.slice(0,x),_=_.slice(x+1),this.auth=decodeURIComponent(O)),j=-1;for(E=0;E<l.length;E++){var I;-1!==(I=_.indexOf(l[E]))&&(-1===j||I<j)&&(j=I)}-1===j&&(j=_.length),this.host=_.slice(0,j),_=_.slice(j),this.parseHost(),this.hostname=this.hostname||"";var M="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!M)for(var C=this.hostname.split(/\./),D=(E=0,C.length);E<D;E++){var L=C[E];if(L&&!L.match(f)){for(var T="",R=0,A=L.length;R<A;R++)L.charCodeAt(R)>127?T+="x":T+=L[R];if(!T.match(f)){var F=C.slice(0,E),k=C.slice(E+1),$=L.match(h);$&&(F.push($[1]),k.unshift($[2])),k.length&&(_="/"+k.join(".")+_),this.hostname=F.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),M||(this.hostname=a.toASCII(this.hostname));var B=this.port?":"+this.port:"",N=this.hostname||"";this.host=N+B,this.href+=this.host,M&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!p[w])for(E=0,D=u.length;E<D;E++){var V=u[E];if(-1!==_.indexOf(V)){var q=encodeURIComponent(V);q===V&&(q=escape(V)),_=_.split(V).join(q)}}var U=_.indexOf("#");-1!==U&&(this.hash=_.substr(U),_=_.slice(0,U));var z=_.indexOf("?");if(-1!==z?(this.search=_.substr(z),this.query=_.substr(z+1),t&&(this.query=g.parse(this.query)),_=_.slice(0,z)):t&&(this.search="",this.query={}),_&&(this.pathname=_),m[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var Q=this.search||"";this.path=B+Q}return this.href=this.format(),this},Url.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",a=this.hash||"",n=!1,s="";this.host?n=e+this.host:this.hostname&&(n=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(s=g.stringify(this.query));var i=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||m[t])&&!1!==n?(n="//"+(n||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):n||(n=""),a&&"#"!==a.charAt(0)&&(a="#"+a),i&&"?"!==i.charAt(0)&&(i="?"+i),r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),i=i.replace("#","%23"),t+n+r+i+a},Url.prototype.resolve=function(e){return this.resolveObject(urlParse(e,!1,!0)).format()},Url.prototype.resolveObject=function(e){if(o.isString(e)){var t=new Url;t.parse(e,!1,!0),e=t}for(var r=new Url,a=Object.keys(this),n=0;n<a.length;n++){var s=a[n];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var i=Object.keys(e),c=0;c<i.length;c++){var u=i[c];"protocol"!==u&&(r[u]=e[u])}return m[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!m[e.protocol]){for(var l=Object.keys(e),d=0;d<l.length;d++){var f=l[d];r[f]=e[f]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||v[e.protocol])r.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),r.pathname=h.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var p=r.pathname||"",g=r.search||"";r.path=p+g}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var y=r.pathname&&"/"===r.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=_||y||r.host&&e.pathname,P=b,w=r.pathname&&r.pathname.split("/")||[],S=(h=e.pathname&&e.pathname.split("/")||[],r.protocol&&!m[r.protocol]);if(S&&(r.hostname="",r.port=null,r.host&&(""===w[0]?w[0]=r.host:w.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),b=b&&(""===h[0]||""===w[0])),_)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,w=h;else if(h.length)w||(w=[]),w.pop(),w=w.concat(h),r.search=e.search,r.query=e.query;else if(!o.isNullOrUndefined(e.search)){if(S){r.hostname=r.host=w.shift();(M=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=M.shift(),r.host=r.hostname=M.shift())}return r.search=e.search,r.query=e.query,o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var j=w.slice(-1)[0],E=(r.host||e.host||w.length>1)&&("."===j||".."===j)||""===j,O=0,x=w.length;x>=0;x--)"."===(j=w[x])?w.splice(x,1):".."===j?(w.splice(x,1),O++):O&&(w.splice(x,1),O--);if(!b&&!P)for(;O--;O)w.unshift("..");!b||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),E&&"/"!==w.join("/").substr(-1)&&w.push("");var I=""===w[0]||w[0]&&"/"===w[0].charAt(0);if(S){r.hostname=r.host=I?"":w.length?w.shift():"";var M;(M=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=M.shift(),r.host=r.hostname=M.shift())}return(b=b||r.host&&w.length)&&!I&&w.unshift(""),w.length?r.pathname=w.join("/"):(r.pathname=null,r.path=null),o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},Url.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},"./node_modules/url/util.js":function(e,t,r){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},"./node_modules/webpack/buildin/global.js":function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},"./node_modules/webpack/buildin/module.js":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"./src/client/ButtplugBrowserServerConnector.ts":function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function __(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}(),o=this&&this.__awaiter||function(e,t,r,a){return new(r||(r=Promise))(function(o,n){function fulfilled(e){try{step(a.next(e))}catch(e){n(e)}}function rejected(e){try{step(a.throw(e))}catch(e){n(e)}}function step(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(fulfilled,rejected)}step((a=a.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){function verb(n){return function(i){return function step(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,a&&(o=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,a=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],a=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,i])}}var r,a,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n};Object.defineProperty(t,"__esModule",{value:!0});var s=r("./node_modules/events/events.js"),i=r("./src/server/ButtplugServer.ts"),c=function(e){function ButtplugBrowserServerConnector(){var t=null!==e&&e.apply(this,arguments)||this;return t._connected=!1,t._server=null,t.Connect=function(){return o(t,void 0,void 0,function(){return n(this,function(e){return this._connected=!0,this._server=new i.ButtplugServer,this._server.addListener("message",this.OnMessageReceived),[2,Promise.resolve()]})})},t.Disconnect=function(){t._connected&&(t._connected=!1,t._server=null,t.emit("close"))},t.Send=function(e){return o(t,void 0,void 0,function(){var t;return n(this,function(r){switch(r.label){case 0:if(!this._connected)throw new Error("ButtplugClient not connected");return[4,this._server.SendMessage(e)];case 1:return t=r.sent(),this.emit("message",[t]),[2]}})})},t.OnMessageReceived=function(e){t.emit("message",[e])},t}return a(ButtplugBrowserServerConnector,e),ButtplugBrowserServerConnector.prototype.IsConnected=function(){return this._connected},ButtplugBrowserServerConnector}(s.EventEmitter);t.ButtplugBrowserServerConnector=c},"./src/client/ButtplugBrowserWebsocketConnector.ts":function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function __(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}(),o=this&&this.__awaiter||function(e,t,r,a){return new(r||(r=Promise))(function(o,n){function fulfilled(e){try{step(a.next(e))}catch(e){n(e)}}function rejected(e){try{step(a.throw(e))}catch(e){n(e)}}function step(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(fulfilled,rejected)}step((a=a.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){function verb(n){return function(i){return function step(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,a&&(o=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,a=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],a=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,i])}}var r,a,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n};Object.defineProperty(t,"__esModule",{value:!0});var s=r("./node_modules/events/events.js"),i=r("./src/core/MessageUtils.ts"),c=function(e){function ButtplugBrowserWebsocketConnector(t){var r=e.call(this)||this;return r._url=t,r.Connect=function(){return o(r,void 0,void 0,function(){var e,t,r,a,s,i=this;return n(this,function(c){return e=new WebSocket(this._url),a=new Promise(function(e,a){t=e,r=a}),s=function(e){return r()},e.addEventListener("open",function(r){return o(i,void 0,void 0,function(){var r=this;return n(this,function(a){return this._ws=e,this._ws.addEventListener("message",function(e){r.ParseIncomingMessage(e)}),this._ws.removeEventListener("close",s),this._ws.addEventListener("close",this.Disconnect),t(),[2]})})}),e.addEventListener("close",s),[2,a]})})},r.Disconnect=function(){r.IsConnected()&&(r._ws.close(),r._ws=void 0,r.emit("close"))},r.Send=function(e){if(!r.IsConnected())throw new Error("ButtplugClient not connected");r._ws.send("["+e.toJSON()+"]")},r.ParseIncomingMessage=function(e){if("string"==typeof e.data){var t=i.FromJSON(e.data);r.emit("message",t)}else if(e.data instanceof Blob){var a=new FileReader;a.addEventListener("load",function(e){r.OnReaderLoad(e)}),a.readAsText(e.data)}},r}return a(ButtplugBrowserWebsocketConnector,e),ButtplugBrowserWebsocketConnector.prototype.IsConnected=function(){return void 0!==this._ws},ButtplugBrowserWebsocketConnector.prototype.OnReaderLoad=function(e){var t=i.FromJSON(e.target.result);this.emit("message",t)},ButtplugBrowserWebsocketConnector}(s.EventEmitter);t.ButtplugBrowserWebsocketConnector=c},"./src/client/Client.ts":function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function __(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}(),o=this&&this.__awaiter||function(e,t,r,a){return new(r||(r=Promise))(function(o,n){function fulfilled(e){try{step(a.next(e))}catch(e){n(e)}}function rejected(e){try{step(a.throw(e))}catch(e){n(e)}}function step(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(fulfilled,rejected)}step((a=a.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){function verb(n){return function(i){return function step(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,a&&(o=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,a=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],a=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,i])}}var r,a,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n};Object.defineProperty(t,"__esModule",{value:!0});var s=r("./node_modules/events/events.js"),i=r("./src/core/Device.ts"),c=r("./src/client/ButtplugBrowserWebsocketConnector.ts"),u=r("./src/client/ButtplugBrowserServerConnector.ts"),l=r("./src/core/Messages.ts"),d=r("./src/core/MessageUtils.ts"),f=function(e){function ButtplugClient(t){var r=e.call(this)||this;return r._connector=null,r._devices=new Map,r._counter=1,r._waitingMsgs=new Map,r.ConnectWebsocket=function(e){return o(r,void 0,void 0,function(){return n(this,function(t){switch(t.label){case 0:return[4,this.Connect(new c.ButtplugBrowserWebsocketConnector(e))];case 1:return t.sent(),[2]}})})},r.ConnectLocal=function(){return o(r,void 0,void 0,function(){return n(this,function(e){switch(e.label){case 0:return[4,this.Connect(new u.ButtplugBrowserServerConnector)];case 1:return e.sent(),[2]}})})},r.Connect=function(e){return o(r,void 0,void 0,function(){return n(this,function(t){switch(t.label){case 0:return[4,e.Connect()];case 1:return t.sent(),this._connector=e,this._connector.addListener("message",this.ParseMessages),[4,this.InitializeConnection()];case 2:return t.sent(),[2]}})})},r.RequestDeviceList=function(){return o(r,void 0,void 0,function(){var e,t=this;return n(this,function(r){switch(r.label){case 0:return this.CheckConnector(),[4,this.SendMessage(new l.RequestDeviceList)];case 1:return(e=r.sent()).Devices.forEach(function(e){if(!t._devices.has(e.DeviceIndex)){var r=i.Device.fromMsg(e);t._devices.set(e.DeviceIndex,r),t.emit("deviceadded",r)}}),[2]}})})},r.StartScanning=function(){return o(r,void 0,void 0,function(){return n(this,function(e){switch(e.label){case 0:return[4,this.SendMsgExpectOk(new l.StartScanning)];case 1:return[2,e.sent()]}})})},r.StopScanning=function(){return o(r,void 0,void 0,function(){return n(this,function(e){switch(e.label){case 0:return[4,this.SendMsgExpectOk(new l.StopScanning)];case 1:return[2,e.sent()]}})})},r.RequestLog=function(e){return o(r,void 0,void 0,function(){return n(this,function(t){switch(t.label){case 0:return[4,this.SendMsgExpectOk(new l.RequestLog(e))];case 1:return[2,t.sent()]}})})},r.StopAllDevices=function(){return o(r,void 0,void 0,function(){return n(this,function(e){switch(e.label){case 0:return[4,this.SendMsgExpectOk(new l.StopAllDevices)];case 1:return[2,e.sent()]}})})},r.ParseMessages=function(e){e.forEach(function(e){if(e.Id>0&&r._waitingMsgs.has(e.Id)){r._waitingMsgs.get(e.Id)(e)}else switch(e.getType()){case"Log":r.emit("log",e);break;case"DeviceAdded":var t=e,a=i.Device.fromMsg(t);r._devices.set(t.DeviceIndex,a),r.emit("deviceadded",a);break;case"DeviceRemoved":var o=e;if(r._devices.has(o.DeviceIndex)){var n=r._devices.get(o.DeviceIndex);r._devices.delete(o.DeviceIndex),r.emit("deviceremoved",n)}break;case"ScanningFinished":r.emit("scanningfinished",e)}})},r.InitializeConnection=function(){return o(r,void 0,void 0,function(){var e,t,r=this;return n(this,function(a){switch(a.label){case 0:return this.CheckConnector(),[4,this.SendMessage(new l.RequestServerInfo(this._clientName))];case 1:switch((e=a.sent()).getType()){case"ServerInfo":return(t=e.MaxPingTime)>0&&(this._pingTimer=setInterval(function(){return r.SendMessage(new l.Ping(r._counter))},Math.round(t/2))),[2,!0];case"Error":this._connector.Disconnect()}return[2,!1]}})})},r.ShutdownConnection=function(){r._pingTimer&&clearInterval(r._pingTimer)},r.SendMsgExpectOk=function(e){return o(r,void 0,void 0,function(){var t,r,a,o;return n(this,function(n){switch(n.label){case 0:return[4,this.SendMessage(e)];case 1:switch(a=n.sent(),o=new Promise(function(e,a){t=e,r=a}),a.getType()){case"Ok":t();break;default:r(a)}return[2,o]}})})},r._clientName=t,r}return a(ButtplugClient,e),Object.defineProperty(ButtplugClient.prototype,"Connected",{get:function(){return null!==this._connector&&this._connector.IsConnected()},enumerable:!0,configurable:!0}),ButtplugClient.prototype.Disconnect=function(){this.CheckConnector(),this._connector.Disconnect()},ButtplugClient.prototype.getDevices=function(){this.CheckConnector();var e=[];return this._devices.forEach(function(t,r){e.push(t)}),e},ButtplugClient.prototype.SendDeviceMessage=function(e,t){return o(this,void 0,void 0,function(){var r;return n(this,function(a){switch(a.label){case 0:return this.CheckConnector(),void 0===(r=this._devices.get(e.Index))?[2,Promise.reject(new Error("Device not available."))]:-1===r.AllowedMessages.indexOf(t.getType())?[2,Promise.reject(new Error("Device does not accept that message type."))]:(t.DeviceIndex=e.Index,[4,this.SendMsgExpectOk(t)]);case 1:return[2,a.sent()]}})})},ButtplugClient.prototype.CheckConnector=function(){if(!this.Connected)throw new Error("ButtplugClient not connected")},ButtplugClient.prototype.SendMessage=function(e){return o(this,void 0,void 0,function(){var t,r;return n(this,function(a){switch(a.label){case 0:return this.CheckConnector(),d.CheckMessage(e),e.Id=this._counter,r=new Promise(function(e){t=e}),this._waitingMsgs.set(this._counter,t),this._counter+=1,this._connector.Send(e),[4,r];case 1:return[2,a.sent()]}})})},ButtplugClient}(s.EventEmitter);t.ButtplugClient=f},"./src/client/IButtplugConnector.ts":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./src/core/Device.ts":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function Device(e,t,r){this.index=e,this.name=t,this.allowedMsgs=r}return Device.fromMsg=function(e){return new Device(e.DeviceIndex,e.DeviceName,e.DeviceMessages)},Object.defineProperty(Device.prototype,"Name",{get:function(){return this.name},enumerable:!0,configurable:!0}),Object.defineProperty(Device.prototype,"Index",{get:function(){return this.index},enumerable:!0,configurable:!0}),Object.defineProperty(Device.prototype,"AllowedMessages",{get:function(){return this.allowedMsgs},enumerable:!0,configurable:!0}),Device}();t.Device=a},"./src/core/Logging.ts":function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function __(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var o,n=r("./node_modules/events/events.js"),s=r("./src/core/Messages.ts");!function(e){e[e.Off=0]="Off",e[e.Fatal=1]="Fatal",e[e.Error=2]="Error",e[e.Warn=3]="Warn",e[e.Info=4]="Info",e[e.Debug=5]="Debug",e[e.Trace=6]="Trace"}(o=t.LogLevel||(t.LogLevel={}));var i=function(){function LogMessage(e,t){var r=new Date,a=r.getHours(),o=r.getMinutes(),n=r.getSeconds();this.timestamp=a+":"+o+":"+n,this.logMessage=e,this.logLevel=t}return Object.defineProperty(LogMessage.prototype,"Message",{get:function(){return this.logMessage},enumerable:!0,configurable:!0}),Object.defineProperty(LogMessage.prototype,"LogLevel",{get:function(){return this.logLevel},enumerable:!0,configurable:!0}),Object.defineProperty(LogMessage.prototype,"Timestamp",{get:function(){return this.timestamp},enumerable:!0,configurable:!0}),Object.defineProperty(LogMessage.prototype,"FormattedMessage",{get:function(){return o[this.logLevel]+" : "+this.timestamp+" : "+this.logMessage},enumerable:!0,configurable:!0}),LogMessage}();t.LogMessage=i;var c=function(e){function ButtplugLogger(){var t=e.call(this)||this;return t.logMessages=[],t.logLimit=1e3,t.logToConsole=!1,t.maximumLogLevel=o.Off,t}return a(ButtplugLogger,e),Object.defineProperty(ButtplugLogger,"Logger",{get:function(){return void 0===ButtplugLogger.sLogger&&(ButtplugLogger.sLogger=new ButtplugLogger),this.sLogger},enumerable:!0,configurable:!0}),Object.defineProperty(ButtplugLogger.prototype,"MaximumLogLevel",{get:function(){return this.maximumLogLevel},set:function(e){this.maximumLogLevel=e},enumerable:!0,configurable:!0}),ButtplugLogger.prototype.LogAndError=function(e,t,r){return this.Error(e),new s.Error(e,t,r)},ButtplugLogger.prototype.SetConsoleLogging=function(e){this.logToConsole=e},ButtplugLogger.prototype.Fatal=function(e){this.AddLogMessage(e,o.Fatal)},ButtplugLogger.prototype.Error=function(e){this.AddLogMessage(e,o.Error)},ButtplugLogger.prototype.Warn=function(e){this.AddLogMessage(e,o.Warn)},ButtplugLogger.prototype.Info=function(e){this.AddLogMessage(e,o.Info)},ButtplugLogger.prototype.Debug=function(e){this.AddLogMessage(e,o.Debug)},ButtplugLogger.prototype.Trace=function(e){this.AddLogMessage(e,o.Trace)},ButtplugLogger.prototype.AddLogMessage=function(e,t){if(!(t>this.maximumLogLevel)){this.logMessages.length>this.logLimit&&this.logMessages.shift();var r=new i(e,t);this.logToConsole&&console.log(r.FormattedMessage),this.logMessages.push(new i(e,t)),this.emit("log",r)}},ButtplugLogger.sLogger=void 0,ButtplugLogger}(n.EventEmitter);t.ButtplugLogger=c},"./src/core/MessageUtils.ts":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("./node_modules/class-transformer/index.js"),o=r("./node_modules/ajv/lib/ajv.js"),n=r("./src/core/Messages.ts"),s=r("./dependencies/buttplug-schema/schema/buttplug-schema.json"),i=o().compile(s);t.CheckMessage=function CheckMessage(e){if(!i([e.toProtocolFormat()])){console.log(e);var t=i.errors.map(function(e){return e.message}).join("; ");throw new Error(t)}},t.FromJSON=function FromJSON(e){var t=JSON.parse(e);if(!i(t)){var r=i.errors.map(function(e){return e.message}).join("; ");return[new n.Error(r,n.ErrorClass.ERROR_MSG,0)]}for(var o=[],s=0,c=Array.from(t);s<c.length;s++){var u=c[s],l=a.plainToClass(n.Messages[Object.getOwnPropertyNames(u)[0]],u[Object.getOwnPropertyNames(u)[0]]);o.push(l)}return o}},"./src/core/Messages.ts":function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function __(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r("./node_modules/class-transformer/index.js");r("./node_modules/reflect-metadata/Reflect.js");var n=function(){function ButtplugMessage(e){this.Id=e}return ButtplugMessage.prototype.getType=function(){return this.constructor.name},ButtplugMessage.prototype.toJSON=function(){return JSON.stringify(this.toProtocolFormat())},ButtplugMessage.prototype.toProtocolFormat=function(){var e={};return e[this.constructor.name]=o.classToPlain(this),e},ButtplugMessage}();t.ButtplugMessage=n;var s=function(e){function ButtplugDeviceMessage(t,r){var a=e.call(this,r)||this;return a.DeviceIndex=t,a.Id=r,a}return a(ButtplugDeviceMessage,e),ButtplugDeviceMessage}(n);t.ButtplugDeviceMessage=s;var i=function(e){function ButtplugSystemMessage(t){void 0===t&&(t=0);var r=e.call(this,t)||this;return r.Id=t,r}return a(ButtplugSystemMessage,e),ButtplugSystemMessage}(n);t.ButtplugSystemMessage=i;var c=function(e){function Ok(t){var r=e.call(this,t)||this;return r.Id=t,r}return a(Ok,e),Ok}(i);t.Ok=c;var u=function(e){function Ping(t){var r=e.call(this,t)||this;return r.Id=t,r}return a(Ping,e),Ping}(n);t.Ping=u;var l=function(e){function Test(t,r){void 0===r&&(r=1);var a=e.call(this,r)||this;return a.TestString=t,a.Id=r,a}return a(Test,e),Test}(n);t.Test=l;var d;!function(e){e[e.ERROR_UNKNOWN=0]="ERROR_UNKNOWN",e[e.ERROR_INIT=1]="ERROR_INIT",e[e.ERROR_PING=2]="ERROR_PING",e[e.ERROR_MSG=3]="ERROR_MSG",e[e.ERROR_DEVICE=4]="ERROR_DEVICE"}(d=t.ErrorClass||(t.ErrorClass={}));var f=function(e){function Error(t,r,a){void 0===r&&(r=d.ERROR_UNKNOWN),void 0===a&&(a=1);var o=e.call(this,a)||this;return o.ErrorMessage=t,o.ErrorCode=r,o.Id=a,o}return a(Error,e),Error}(i);t.Error=f;var h=function(){return function DeviceInfo(e,t,r){this.DeviceIndex=e,this.DeviceName=t,this.DeviceMessages=r}}();t.DeviceInfo=h;var p=function(e){function DeviceList(t,r){var a=e.call(this)||this;return a.Devices=t,a.Id=r,a}return a(DeviceList,e),DeviceList}(i);t.DeviceList=p;var v=function(e){function DeviceAdded(t,r,a){var o=e.call(this)||this;return o.DeviceIndex=t,o.DeviceName=r,o.DeviceMessages=a,o}return a(DeviceAdded,e),DeviceAdded}(i);t.DeviceAdded=v;var m=function(e){function DeviceRemoved(t){var r=e.call(this)||this;return r.DeviceIndex=t,r}return a(DeviceRemoved,e),DeviceRemoved}(i);t.DeviceRemoved=m;var g=function(e){function RequestDeviceList(t){void 0===t&&(t=1);var r=e.call(this,t)||this;return r.Id=t,r}return a(RequestDeviceList,e),RequestDeviceList}(n);t.RequestDeviceList=g;var y=function(e){function StartScanning(t){void 0===t&&(t=1);var r=e.call(this,t)||this;return r.Id=t,r}return a(StartScanning,e),StartScanning}(n);t.StartScanning=y;var _=function(e){function StopScanning(t){void 0===t&&(t=1);var r=e.call(this,t)||this;return r.Id=t,r}return a(StopScanning,e),StopScanning}(n);t.StopScanning=_;var b=function(e){function ScanningFinished(){return e.call(this)||this}return a(ScanningFinished,e),ScanningFinished}(i);t.ScanningFinished=b;var P=function(e){function RequestLog(t,r){void 0===r&&(r=1);var a=e.call(this,r)||this;return a.LogLevel=t,a.Id=r,a}return a(RequestLog,e),RequestLog}(n);t.RequestLog=P;var w=function(e){function Log(t,r){var a=e.call(this)||this;return a.LogLevel=t,a.LogMessage=r,a}return a(Log,e),Log}(i);t.Log=w;var S=function(e){function RequestServerInfo(t,r){void 0===r&&(r=1);var a=e.call(this,r)||this;return a.ClientName=t,a.Id=r,a}return a(RequestServerInfo,e),RequestServerInfo}(n);t.RequestServerInfo=S;var j=function(e){function ServerInfo(t,r,a,o,n,s,i){void 0===i&&(i=1);var c=e.call(this)||this;return c.MajorVersion=t,c.MinorVersion=r,c.BuildVersion=a,c.MessageVersion=o,c.MaxPingTime=n,c.ServerName=s,c.Id=i,c}return a(ServerInfo,e),ServerInfo}(i);t.ServerInfo=j;var E=function(e){function FleshlightLaunchFW12Cmd(t,r,a,o){void 0===a&&(a=-1),void 0===o&&(o=1);var n=e.call(this,a,o)||this;return n.Speed=t,n.Position=r,n.DeviceIndex=a,n.Id=o,n}return a(FleshlightLaunchFW12Cmd,e),FleshlightLaunchFW12Cmd}(s);t.FleshlightLaunchFW12Cmd=E;var O=function(e){function KiirooCmd(t,r,a){void 0===t&&(t="0"),void 0===r&&(r=-1),void 0===a&&(a=1);var o=e.call(this,r,a)||this;return o.Command=t,o.DeviceIndex=r,o.Id=a,o}return a(KiirooCmd,e),KiirooCmd.prototype.SetPosition=function(e){this.Command=e>=0&&e<=4?String(Math.round(e)):"0"},KiirooCmd.prototype.GetPosition=function(){var e=Number(this.Command)?Number(this.Command):0;return e<0||e>4?0:Math.round(e)},KiirooCmd}(s);t.KiirooCmd=O;var x=function(e){function SingleMotorVibrateCmd(t,r,a){void 0===r&&(r=-1),void 0===a&&(a=1);var o=e.call(this,r,a)||this;return o.Speed=t,o.DeviceIndex=r,o.Id=a,o}return a(SingleMotorVibrateCmd,e),SingleMotorVibrateCmd}(s);t.SingleMotorVibrateCmd=x;var I=function(e){function StopDeviceCmd(t,r){void 0===t&&(t=-1),void 0===r&&(r=1);var a=e.call(this,t,r)||this;return a.DeviceIndex=t,a.Id=r,a}return a(StopDeviceCmd,e),StopDeviceCmd}(s);t.StopDeviceCmd=I;var M=function(e){function StopAllDevices(t){void 0===t&&(t=1);var r=e.call(this,t)||this;return r.Id=t,r}return a(StopAllDevices,e),StopAllDevices}(n);t.StopAllDevices=M;var C=function(e){function LovenseCmd(t,r,a){void 0===r&&(r=-1),void 0===a&&(a=1);var o=e.call(this,r,a)||this;return o.Command=t,o.DeviceIndex=r,o.Id=a,o}return a(LovenseCmd,e),LovenseCmd}(s);t.LovenseCmd=C;var D=function(e){function VorzeA10CycloneCmd(t,r,a,o){void 0===a&&(a=-1),void 0===o&&(o=1);var n=e.call(this,a,o)||this;return n.Speed=t,n.Clockwise=r,n.DeviceIndex=a,n.Id=o,n}return a(VorzeA10CycloneCmd,e),VorzeA10CycloneCmd}(s);t.VorzeA10CycloneCmd=D,t.Messages={DeviceAdded:v,DeviceList:p,DeviceRemoved:m,Error:f,FleshlightLaunchFW12Cmd:E,KiirooCmd:O,Log:w,LovenseCmd:C,Ok:c,Ping:u,RequestDeviceList:g,RequestLog:P,RequestServerInfo:S,ScanningFinished:b,ServerInfo:j,SingleMotorVibrateCmd:x,StartScanning:y,StopAllDevices:M,StopDeviceCmd:I,StopScanning:_,Test:l,VorzeA10CycloneCmd:D}},"./src/index.ts":function(e,t,r){"use strict";function __export(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),__export(r("./src/client/Client.ts")),__export(r("./src/client/IButtplugConnector.ts")),__export(r("./src/core/Messages.ts")),__export(r("./src/core/MessageUtils.ts")),__export(r("./src/core/Device.ts")),__export(r("./src/server/ButtplugServer.ts")),__export(r("./src/server/ButtplugDevice.ts")),__export(r("./src/server/IDeviceSubtypeManager.ts")),__export(r("./src/server/bluetooth/ButtplugBluetoothDevice.ts")),__export(r("./src/server/bluetooth/BluetoothDeviceInfo.ts")),__export(r("./src/server/bluetooth/BluetoothDevices.ts")),__export(r("./src/server/bluetooth/IBluetoothDeviceImpl.ts"))},"./src/server/ButtplugDevice.ts":function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function __(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}(),o=this&&this.__awaiter||function(e,t,r,a){return new(r||(r=Promise))(function(o,n){function fulfilled(e){try{step(a.next(e))}catch(e){n(e)}}function rejected(e){try{step(a.throw(e))}catch(e){n(e)}}function step(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(fulfilled,rejected)}step((a=a.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){function verb(n){return function(i){return function step(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,a&&(o=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,a=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],a=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,i])}}var r,a,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n};Object.defineProperty(t,"__esModule",{value:!0});var s=r("./src/core/Messages.ts"),i=function(e){function ButtplugDevice(t){var r=e.call(this)||this;return r._name=t,r.MsgFuncs=new Map,r.GetAllowedMessageTypes=function(){return Array.from(r.MsgFuncs.keys())},r.ParseMessage=function(e){return o(r,void 0,void 0,function(){return n(this,function(t){return this.MsgFuncs.has(e.getType())?[2,this.MsgFuncs.get(e.getType())(e)]:[2,new s.Error("${this._name} cannot handle message of type ${aMsg.getType()} )",s.ErrorClass.ERROR_MSG,e.Id)]})})},r}return a(ButtplugDevice,e),Object.defineProperty(ButtplugDevice.prototype,"Name",{get:function(){return this._name},enumerable:!0,configurable:!0}),ButtplugDevice}(r("./node_modules/events/events.js").EventEmitter);t.ButtplugDevice=i},"./src/server/ButtplugServer.ts":function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function __(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}(),o=this&&this.__awaiter||function(e,t,r,a){return new(r||(r=Promise))(function(o,n){function fulfilled(e){try{step(a.next(e))}catch(e){n(e)}}function rejected(e){try{step(a.throw(e))}catch(e){n(e)}}function step(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(fulfilled,rejected)}step((a=a.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){function verb(n){return function(i){return function step(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,a&&(o=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,a=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],a=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,i])}}var r,a,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n},s=this;Object.defineProperty(t,"__esModule",{value:!0});var i=r("./src/core/Messages.ts"),c=r("./src/server/DeviceManager.ts"),u=r("./node_modules/events/events.js"),l=r("./src/server/ServerMessageHub.ts"),d=r("./src/core/Logging.ts"),f=function(e){function ButtplugServer(t,r){void 0===t&&(t="Buttplug JS Internal Server"),void 0===r&&(r=0);var a=e.call(this)||this;return a._serverName=t,a._maxPingTime=r,a._pingTimedOut=!1,a._receivedRequestServerInfo=!1,a._logger=d.ButtplugLogger.Logger,a._outgoingLogLevel=d.LogLevel.Off,a.AddDeviceManager=function(e){a._deviceManager.AddDeviceManager(e)},a.SendMessage=function(e){return o(a,void 0,void 0,function(){var t,r,a;return n(this,function(o){if(t=e.Id,this._logger.Trace("Got Message: "+e),0===t)return[2,this._logger.LogAndError("Message Id 0 is reserved for outgoing system messages. Please use another Id.",i.ErrorClass.ERROR_MSG,t)];if(this._pingTimedOut)return[2,this._logger.LogAndError("Ping timed out.",i.ErrorClass.ERROR_MSG,t)];if(!this._receivedRequestServerInfo&&"RequestServerInfo"!==e.constructor.name)return[2,this._logger.LogAndError("RequestServerInfo must be first message received by server.",i.ErrorClass.ERROR_INIT,t)];switch(e.constructor.name){case"RequestLog":return(r=e).LogLevel===d.LogLevel[d.LogLevel.Off]?this._logger.removeListener("log",this.OnLogMessage):this._outgoingLogLevel===d.LogLevel.Off&&this._logger.addListener("log",this.OnLogMessage),this._outgoingLogLevel=d.LogLevel[r.LogLevel],[2,new i.Ok(r.Id)];case"Ping":return[2,new i.Ok(e.Id)];case"RequestServerInfo":return this._receivedRequestServerInfo=!0,[2,new i.ServerInfo(0,0,9,1,this._maxPingTime,this._serverName,t)];case"Test":return a=e,[2,new i.Test(a.TestString,e.Id)]}return[2,this._deviceManager.SendMessage(e)]})})},a.Shutdown=function(){return o(a,void 0,void 0,function(){return n(this,function(e){return[2]})})},a.OnLogMessage=function(e){e.LogLevel>a._outgoingLogLevel||a.OnOutgoingMessage(new i.Log(d.LogLevel[e.LogLevel],e.Message))},a.OnOutgoingMessage=function(e){a.emit("message",e)},a._logger.MaximumLogLevel=d.LogLevel.Debug,a._logger.SetConsoleLogging(!0),a._logger.Info("Starting Buttplug Server: "+a._serverName),a._deviceManager=new c.DeviceManager,l.ServerMessageHub.Instance.addListener("message",a.OnOutgoingMessage),a}return a(ButtplugServer,e),ButtplugServer.CanUseBluetooth=function(){return o(s,void 0,void 0,function(){return n(this,function(e){switch(e.label){case 0:return void 0!==navigator&&"bluetooth"in navigator?[4,navigator.bluetooth.getAvailability()]:[2,!1];case 1:return[2,e.sent()]}})})},ButtplugServer}(u.EventEmitter);t.ButtplugServer=f},"./src/server/DeviceManager.ts":function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function __(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}(),o=this&&this.__awaiter||function(e,t,r,a){return new(r||(r=Promise))(function(o,n){function fulfilled(e){try{step(a.next(e))}catch(e){n(e)}}function rejected(e){try{step(a.throw(e))}catch(e){n(e)}}function step(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(fulfilled,rejected)}step((a=a.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){function verb(n){return function(i){return function step(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,a&&(o=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,a=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],a=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,i])}}var r,a,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n};Object.defineProperty(t,"__esModule",{value:!0});var s=r("./src/core/Messages.ts"),i=r("./src/server/bluetooth/WebBluetoothDeviceManager.ts"),c=r("./node_modules/events/events.js"),u=r("./src/server/ServerMessageHub.ts"),l=r("./src/core/Logging.ts"),d=function(e){function DeviceManager(){var t=e.call(this)||this;if(t._subtypeManagers=[],t._devices=new Map,t._deviceCounter=1,t._logger=l.ButtplugLogger.Logger,t.AddDeviceManager=function(e){t._subtypeManagers.push(e),e.addListener("deviceadded",t.OnDeviceAdded),e.addListener("deviceremoved",t.OnDeviceRemoved),e.addListener("scanningfinished",t.OnScanningFinished)},t.SendMessage=function(e){return o(t,void 0,void 0,function(){var t,r,a,o,i,c,u,l,d,f;return n(this,function(n){switch(n.label){case 0:switch(t=e.Id,r=e.constructor.name){case"StartScanning":return[3,1];case"StopScanning":return[3,8];case"StopAllDevices":return[3,9];case"RequestDeviceList":return[3,10]}return[3,11];case 1:a=0,o=this._subtypeManagers,n.label=2;case 2:if(!(a<o.length))return[3,7];if((l=o[a]).IsScanning())return[3,6];n.label=3;case 3:return n.trys.push([3,5,,6]),[4,l.StartScanning()];case 4:return n.sent(),[3,6];case 5:return i=n.sent(),[2,new s.Error(i.message,s.ErrorClass.ERROR_DEVICE,t)];case 6:return a++,[3,2];case 7:return[2,new s.Ok(t)];case 8:for(c=0,u=this._subtypeManagers;c<u.length;c++)(l=u[c]).IsScanning()&&l.StopScanning();return[2,new s.Ok(t)];case 9:return this._devices.forEach(function(e,t){e.ParseMessage(new s.StopDeviceCmd)}),[2,new s.Ok(t)];case 10:return[2,new s.DeviceList([],t)];case 11:return void 0===(d=e).DeviceIndex?[2,this._logger.LogAndError("Message Type "+e.constructor.name+" unhandled by this server.",s.ErrorClass.ERROR_MSG,t)]:this._devices.has(d.DeviceIndex)?(f=this._devices.get(d.DeviceIndex)).GetAllowedMessageTypes().indexOf(e.constructor.name)<0?[2,this._logger.LogAndError("Device "+f.Name+" does not take message type "+e.constructor.name,s.ErrorClass.ERROR_DEVICE,t)]:[4,f.ParseMessage(d)]:[2,this._logger.LogAndError("Device Index "+d.DeviceIndex+" does not exist",s.ErrorClass.ERROR_DEVICE,t)];case 12:return[2,n.sent()]}})})},t.OnDeviceAdded=function(e){t._logger.Debug("Device Added: "+e.Name);var r=t._deviceCounter;t._deviceCounter+=1,t._devices.set(r,e),e.addListener("deviceremoved",t.OnDeviceRemoved),u.ServerMessageHub.Instance.emitMessage(new s.DeviceAdded(r,e.Name,e.GetAllowedMessageTypes()))},t.OnDeviceRemoved=function(e){t._logger.Debug("Device Removed: "+e.Name);for(var r=null,a=0,o=Array.from(t._devices.entries());a<o.length;a++){var n=o[a];if(n[1]===e){r=n[0];break}}null!==r&&(t._devices.delete(r),u.ServerMessageHub.Instance.emitMessage(new s.DeviceRemoved(r)))},t.OnScanningFinished=function(){for(var e=0,r=t._subtypeManagers;e<r.length;e++){if(r[e].IsScanning())return}u.ServerMessageHub.Instance.emitMessage(new s.ScanningFinished)},t._logger.Debug("Starting Device Manager"),"undefined"!=typeof window&&void 0!==window.navigator&&navigator.bluetooth){(c=new i.WebBluetoothDeviceManager).addListener("deviceadded",t.OnDeviceAdded),c.addListener("deviceremoved",t.OnDeviceRemoved),t._subtypeManagers.push(c)}for(var r=0,a=t._subtypeManagers;r<a.length;r++){var c;(c=a[r]).addListener("scanningfinished",t.OnScanningFinished)}return t}return a(DeviceManager,e),DeviceManager}(c.EventEmitter);t.DeviceManager=d},"./src/server/IDeviceSubtypeManager.ts":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./src/server/ServerMessageHub.ts":function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function __(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function ServerMessageHub(){return null!==e&&e.apply(this,arguments)||this}return a(ServerMessageHub,e),Object.defineProperty(ServerMessageHub,"Instance",{get:function(){return ServerMessageHub.sInstance},enumerable:!0,configurable:!0}),ServerMessageHub.prototype.emitMessage=function(e){this.emit("message",e)},ServerMessageHub.sInstance=new ServerMessageHub,ServerMessageHub}(r("./node_modules/events/events.js").EventEmitter);t.ServerMessageHub=o},"./src/server/bluetooth/BluetoothDeviceInfo.ts":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function BluetoothDeviceInfo(e,t,r,a){this._names=e,this._services=t,this._characteristics=r,this._createFunc=a}return Object.defineProperty(BluetoothDeviceInfo.prototype,"Names",{get:function(){return this._names},enumerable:!0,configurable:!0}),Object.defineProperty(BluetoothDeviceInfo.prototype,"Services",{get:function(){return this._services},enumerable:!0,configurable:!0}),Object.defineProperty(BluetoothDeviceInfo.prototype,"Characteristics",{get:function(){return this._characteristics},enumerable:!0,configurable:!0}),Object.defineProperty(BluetoothDeviceInfo.prototype,"Create",{get:function(){return this._createFunc},enumerable:!0,configurable:!0}),BluetoothDeviceInfo}();t.BluetoothDeviceInfo=a},"./src/server/bluetooth/BluetoothDevices.ts":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("./src/server/bluetooth/devices/FleshlightLaunch.ts"),o=r("./src/server/bluetooth/devices/Lovense.ts"),n=r("./src/server/bluetooth/devices/VorzeA10Cyclone.ts"),s=r("./src/server/bluetooth/devices/WeVibe.ts"),i=function(){function BluetoothDevices(){}return BluetoothDevices.GetDeviceInfo=function(){return[a.FleshlightLaunch.DeviceInfo,o.LovenseRev1.DeviceInfo,o.LovenseRev2.DeviceInfo,o.LovenseRev3.DeviceInfo,o.LovenseRev4.DeviceInfo,n.VorzeA10Cyclone.DeviceInfo,s.WeVibe.DeviceInfo]},BluetoothDevices}();t.BluetoothDevices=i},"./src/server/bluetooth/ButtplugBluetoothDevice.ts":function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function __(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function ButtplugBluetoothDevice(t,r){var a=e.call(this,t)||this;return a._deviceImpl=r,a}return a(ButtplugBluetoothDevice,e),ButtplugBluetoothDevice.prototype.OnDisconnect=function(){this.emit("deviceremoved",this)},ButtplugBluetoothDevice}(r("./src/server/ButtplugDevice.ts").ButtplugDevice);t.ButtplugBluetoothDevice=o},"./src/server/bluetooth/IBluetoothDeviceImpl.ts":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./src/server/bluetooth/WebBluetoothDevice.ts":function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function __(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}(),o=this&&this.__awaiter||function(e,t,r,a){return new(r||(r=Promise))(function(o,n){function fulfilled(e){try{step(a.next(e))}catch(e){n(e)}}function rejected(e){try{step(a.throw(e))}catch(e){n(e)}}function step(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(fulfilled,rejected)}step((a=a.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){function verb(n){return function(i){return function step(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,a&&(o=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,a=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],a=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,i])}}var r,a,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n};Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function WebBluetoothDevice(t,r){var a=e.call(this)||this;return a._deviceInfo=t,a._device=r,a._characteristics=new Map,a.Connect=function(){return o(a,void 0,void 0,function(){var e,t,r,a,o,s,i,c;return n(this,function(n){switch(n.label){case 0:return this._device.addEventListener("gattserverdisconnected",this.OnDisconnect),e=this,[4,this._device.gatt.connect()];case 1:return e._server=n.sent(),t=this,[4,this._server.getPrimaryService(this._deviceInfo.Services[0])];case 2:t._service=n.sent(),r=0,a=Object.getOwnPropertyNames(this._deviceInfo.Characteristics),n.label=3;case 3:return r<a.length?(o=a[r],i=(s=this._characteristics).set,c=[o],[4,this._service.getCharacteristic(this._deviceInfo.Characteristics[o])]):[3,6];case 4:i.apply(s,c.concat([n.sent()])),n.label=5;case 5:return r++,[3,3];case 6:return[2]}})})},a.OnDisconnect=function(){a._device.removeEventListener("gattserverdisconnected",a.OnDisconnect),a.emit("deviceremoved")},a.WriteValue=function(e,t){return o(a,void 0,void 0,function(){var r;return n(this,function(a){switch(a.label){case 0:return this._characteristics.has(e)?(r=this._characteristics.get(e),[4,r.writeValue(t)]):[2];case 1:return a.sent(),[2]}})})},a.ReadValue=function(e){return o(a,void 0,void 0,function(){var t;return n(this,function(r){switch(r.label){case 0:if(!this._characteristics.has(e))throw new Error("Tried to access wrong characteristic!");return t=this._characteristics.get(e),[4,t.readValue()];case 1:return[2,r.sent()]}})})},a}return a(WebBluetoothDevice,e),WebBluetoothDevice.CreateDevice=function(e,t){return o(this,void 0,void 0,function(){var r,a;return n(this,function(o){switch(o.label){case 0:return r=new WebBluetoothDevice(e,t),[4,r.Connect()];case 1:return o.sent(),[4,e.Create(r)];case 2:return a=o.sent(),r.addListener("deviceremoved",function(){a.OnDisconnect()}),[2,a]}})})},Object.defineProperty(WebBluetoothDevice.prototype,"Name",{get:function(){return this._device.name},enumerable:!0,configurable:!0}),WebBluetoothDevice}(r("./node_modules/events/events.js").EventEmitter);t.WebBluetoothDevice=s},"./src/server/bluetooth/WebBluetoothDeviceManager.ts":function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function __(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}(),o=this&&this.__awaiter||function(e,t,r,a){return new(r||(r=Promise))(function(o,n){function fulfilled(e){try{step(a.next(e))}catch(e){n(e)}}function rejected(e){try{step(a.throw(e))}catch(e){n(e)}}function step(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(fulfilled,rejected)}step((a=a.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){function verb(n){return function(i){return function step(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,a&&(o=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,a=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],a=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,i])}}var r,a,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n};Object.defineProperty(t,"__esModule",{value:!0});var s=r("./src/server/bluetooth/BluetoothDevices.ts"),i=r("./node_modules/events/events.js"),c=r("./src/server/bluetooth/WebBluetoothDevice.ts"),u=function(e){function WebBluetoothDeviceManager(){var t=null!==e&&e.apply(this,arguments)||this;return t.OpenDevice=function(e){return o(t,void 0,void 0,function(){var t,r,a,o,i,u;return n(this,function(n){switch(n.label){case 0:if(void 0===e)return[2];for(t=s.BluetoothDevices.GetDeviceInfo(),r=null,a=0,o=t;a<o.length;a++)if((i=o[a]).Names.indexOf(e.name)>=0){r=i;break}return null===r?[2]:[4,c.WebBluetoothDevice.CreateDevice(r,e)];case 1:return u=n.sent(),this.emit("deviceadded",u),[2]}})})},t}return a(WebBluetoothDeviceManager,e),WebBluetoothDeviceManager.prototype.StartScanning=function(){return o(this,void 0,void 0,function(){var e,t,r,a,o,i,c,u,l,d,f;return n(this,function(n){switch(n.label){case 0:for(e=s.BluetoothDevices.GetDeviceInfo(),t={filters:new Array,optionalServices:new Array},r=0,a=e;r<a.length;r++){for(o=a[r],i=0,c=o.Names;i<c.length;i++)u=c[i],t.filters.push({name:u});t.optionalServices=t.optionalServices.concat(o.Services)}n.label=1;case 1:return n.trys.push([1,3,,4]),[4,navigator.bluetooth.requestDevice(t)];case 2:return l=n.sent(),[3,4];case 3:if(d=n.sent(),this.emit("scanningfinished"),-1!==d.message.indexOf("User cancelled"))return[2];throw new Error("Bluetooth scanning interrupted. Either user cancelled out of dialog, or bluetooth radio is not available. Exception: "+d);case 4:return n.trys.push([4,6,,7]),[4,this.OpenDevice(l)];case 5:return n.sent(),[3,7];case 6:throw f=n.sent(),this.emit("scanningfinished"),new Error("Cannot open device "+l.name+": "+f);case 7:return this.emit("scanningfinished"),[2]}})})},WebBluetoothDeviceManager.prototype.StopScanning=function(){return!0},WebBluetoothDeviceManager.prototype.IsScanning=function(){return!1},WebBluetoothDeviceManager}(i.EventEmitter);t.WebBluetoothDeviceManager=u},"./src/server/bluetooth/devices/FleshlightLaunch.ts":function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function __(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}(),o=this&&this.__awaiter||function(e,t,r,a){return new(r||(r=Promise))(function(o,n){function fulfilled(e){try{step(a.next(e))}catch(e){n(e)}}function rejected(e){try{step(a.throw(e))}catch(e){n(e)}}function step(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(fulfilled,rejected)}step((a=a.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){function verb(n){return function(i){return function step(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,a&&(o=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,a=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],a=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,i])}}var r,a,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n};Object.defineProperty(t,"__esModule",{value:!0});var s=r("./src/server/bluetooth/BluetoothDeviceInfo.ts"),i=r("./src/server/bluetooth/ButtplugBluetoothDevice.ts"),c=r("./src/core/Messages.ts"),u=function(e){function FleshlightLaunch(t){var r=e.call(this,"Fleshlight Launch",t)||this;return r.HandleStopDeviceCmd=function(e){return o(r,void 0,void 0,function(){return n(this,function(t){switch(t.label){case 0:return[4,this.HandleFleshlightLaunchFW12Cmd(new c.FleshlightLaunchFW12Cmd(0,0,e.DeviceIndex,e.Id))];case 1:return[2,t.sent()]}})})},r.HandleFleshlightLaunchFW12Cmd=function(e){return o(r,void 0,void 0,function(){return n(this,function(t){switch(t.label){case 0:return[4,this._deviceImpl.WriteValue("tx",new Uint8Array([e.Position,e.Speed]))];case 1:return t.sent(),[2,new c.Ok(e.Id)]}})})},r.MsgFuncs.set(c.StopDeviceCmd.name,r.HandleStopDeviceCmd),r.MsgFuncs.set(c.FleshlightLaunchFW12Cmd.name,r.HandleFleshlightLaunchFW12Cmd),r}return a(FleshlightLaunch,e),FleshlightLaunch.CreateInstance=function(e){return o(this,void 0,void 0,function(){return n(this,function(t){switch(t.label){case 0:return[4,e.WriteValue("cmd",new Uint8Array([0]))];case 1:return t.sent(),[2,new FleshlightLaunch(e)]}})})},FleshlightLaunch.DeviceInfo=new s.BluetoothDeviceInfo(["Launch"],["88f80580-0000-01e6-aace-0002a5d5c51b"],{cmd:"88f80583-0000-01e6-aace-0002a5d5c51b",tx:"88f80581-0000-01e6-aace-0002a5d5c51b"},FleshlightLaunch.CreateInstance),FleshlightLaunch}(i.ButtplugBluetoothDevice);t.FleshlightLaunch=u},"./src/server/bluetooth/devices/Lovense.ts":function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function __(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}(),o=this&&this.__awaiter||function(e,t,r,a){return new(r||(r=Promise))(function(o,n){function fulfilled(e){try{step(a.next(e))}catch(e){n(e)}}function rejected(e){try{step(a.throw(e))}catch(e){n(e)}}function step(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(fulfilled,rejected)}step((a=a.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){function verb(n){return function(i){return function step(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,a&&(o=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,a=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],a=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,i])}}var r,a,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n};Object.defineProperty(t,"__esModule",{value:!0});var s=r("./src/server/bluetooth/BluetoothDeviceInfo.ts"),i=r("./src/server/bluetooth/ButtplugBluetoothDevice.ts"),c=r("./src/core/Messages.ts"),u="undefined"!=typeof window?window.TextEncoder:void 0;void 0===u&&(u=r(!function webpackMissingModule(){var e=new Error('Cannot find module "text-encoding"');throw e.code="MODULE_NOT_FOUND",e}()).TextEncoder);var l=function(e){function Lovense(t){var r=e.call(this,"Lovense "+t.Name,t)||this;return r.HandleStopDeviceCmd=function(e){return o(r,void 0,void 0,function(){return n(this,function(t){switch(t.label){case 0:return[4,this.HandleSingleMotorVibrateCmd(new c.SingleMotorVibrateCmd(0,e.DeviceIndex,e.Id))];case 1:return[2,t.sent()]}})})},r.HandleSingleMotorVibrateCmd=function(e){return o(r,void 0,void 0,function(){var t;return n(this,function(r){switch(r.label){case 0:return t=Math.floor(20*e.Speed),[4,this._deviceImpl.WriteValue("tx",(new u).encode("Vibrate:"+t+";"))];case 1:return r.sent(),[2,new c.Ok(e.Id)]}})})},r.MsgFuncs.set(c.StopDeviceCmd.name,r.HandleStopDeviceCmd),r.MsgFuncs.set(c.SingleMotorVibrateCmd.name,r.HandleSingleMotorVibrateCmd),r}return a(Lovense,e),Lovense.CreateInstance=function(e){return Promise.resolve(new Lovense(e))},Lovense._deviceNames={"LVS-A011":"Nora","LVS-C011":"Nora","LVS-B011":"Max","LVS-L009":"Ambi","LVS-S001":"Lush","LVS-Z001":"Hush","LVS-P36":"Edge"},Lovense}(i.ButtplugBluetoothDevice);t.Lovense=l;var d=function(){function LovenseRev1(){}return LovenseRev1.DeviceInfo=new s.BluetoothDeviceInfo(["LVS-A011","LVS-C011","LVS-B011","LVS-L009"],["0000fff0-0000-1000-8000-00805f9b34fb"],{tx:"0000fff2-0000-1000-8000-00805f9b34fb"},l.CreateInstance),LovenseRev1}();t.LovenseRev1=d;var f=function(){function LovenseRev2(){}return LovenseRev2.DeviceInfo=new s.BluetoothDeviceInfo(["LVS-S001","LVS-Z001"],["6e400001-b5a3-f393-e0a9-e50e24dcca9e"],{tx:"6e400002-b5a3-f393-e0a9-e50e24dcca9e"},l.CreateInstance),LovenseRev2}();t.LovenseRev2=f;var h=function(){function LovenseRev3(){}return LovenseRev3.DeviceInfo=new s.BluetoothDeviceInfo(["LVS-P36"],["50300001-0024-4bd4-bbd5-a6920e4c5653"],{tx:"50300002-0024-4bd4-bbd5-a6920e4c5653"},l.CreateInstance),LovenseRev3}();t.LovenseRev3=h;var p=function(){function LovenseRev4(){}return LovenseRev4.DeviceInfo=new s.BluetoothDeviceInfo(["LVS-Domi37"],["57300001-0023-4bd4-bbd5-a6920e4c5653"],{tx:"57300002-0023-4bd4-bbd5-a6920e4c5653"},l.CreateInstance),LovenseRev4}();t.LovenseRev4=p},"./src/server/bluetooth/devices/VorzeA10Cyclone.ts":function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function __(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}(),o=this&&this.__awaiter||function(e,t,r,a){return new(r||(r=Promise))(function(o,n){function fulfilled(e){try{step(a.next(e))}catch(e){n(e)}}function rejected(e){try{step(a.throw(e))}catch(e){n(e)}}function step(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(fulfilled,rejected)}step((a=a.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){function verb(n){return function(i){return function step(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,a&&(o=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,a=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],a=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,i])}}var r,a,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n};Object.defineProperty(t,"__esModule",{value:!0});var s=r("./src/server/bluetooth/BluetoothDeviceInfo.ts"),i=r("./src/server/bluetooth/ButtplugBluetoothDevice.ts"),c=r("./src/core/Messages.ts"),u=function(e){function VorzeA10Cyclone(t){var r=e.call(this,"Vorze A10 Cyclone",t)||this;return r.HandleStopDeviceCmd=function(e){return o(r,void 0,void 0,function(){return n(this,function(t){switch(t.label){case 0:return[4,this.HandleVorzeA10CycloneCmd(new c.VorzeA10CycloneCmd(0,!0,e.DeviceIndex,e.Id))];case 1:return[2,t.sent()]}})})},r.HandleVorzeA10CycloneCmd=function(e){return o(r,void 0,void 0,function(){var t;return n(this,function(r){switch(r.label){case 0:return t=255&((e.Clockwise?1:0)<<7|e.Speed),[4,this._deviceImpl.WriteValue("tx",new Uint8Array([1,1,t]))];case 1:return r.sent(),[2,new c.Ok(e.Id)]}})})},r.MsgFuncs.set(c.StopDeviceCmd.name,r.HandleStopDeviceCmd),r.MsgFuncs.set(c.VorzeA10CycloneCmd.name,r.HandleVorzeA10CycloneCmd),r}return a(VorzeA10Cyclone,e),VorzeA10Cyclone.CreateInstance=function(e){return o(this,void 0,void 0,function(){return n(this,function(t){return e.WriteValue("cmd",new Uint8Array([0])),[2,new VorzeA10Cyclone(e)]})})},VorzeA10Cyclone.DeviceInfo=new s.BluetoothDeviceInfo(["CycSA"],["40ee1111-63ec-4b7f-8ce7-712efd55b90e"],{tx:"40ee2222-63ec-4b7f-8ce7-712efd55b90e"},VorzeA10Cyclone.CreateInstance),VorzeA10Cyclone}(i.ButtplugBluetoothDevice);t.VorzeA10Cyclone=u},"./src/server/bluetooth/devices/WeVibe.ts":function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function __(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}(),o=this&&this.__awaiter||function(e,t,r,a){return new(r||(r=Promise))(function(o,n){function fulfilled(e){try{step(a.next(e))}catch(e){n(e)}}function rejected(e){try{step(a.throw(e))}catch(e){n(e)}}function step(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(fulfilled,rejected)}step((a=a.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){function verb(n){return function(i){return function step(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,a&&(o=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,a=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],a=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,i])}}var r,a,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n};Object.defineProperty(t,"__esModule",{value:!0});var s=r("./src/server/bluetooth/BluetoothDeviceInfo.ts"),i=r("./src/server/bluetooth/ButtplugBluetoothDevice.ts"),c=r("./src/core/Messages.ts"),u=function(e){function WeVibe(t){var r=e.call(this,"WeVibe "+t.Name,t)||this;return r.HandleStopDeviceCmd=function(e){return o(r,void 0,void 0,function(){return n(this,function(t){switch(t.label){case 0:return[4,this.HandleSingleMotorVibrateCmd(new c.SingleMotorVibrateCmd(0,e.DeviceIndex,e.Id))];case 1:return[2,t.sent()]}})})},r.HandleSingleMotorVibrateCmd=function(e){return o(r,void 0,void 0,function(){var t,r;return n(this,function(a){switch(a.label){case 0:return t=Math.floor(15*e.Speed),r=new Uint8Array([15,3,0,t<<4||t,0,3,0,0]),[4,this._deviceImpl.WriteValue("tx",r)];case 1:return a.sent(),[2,new c.Ok(e.Id)]}})})},r.MsgFuncs.set(c.StopDeviceCmd.name,r.HandleStopDeviceCmd),r.MsgFuncs.set(c.SingleMotorVibrateCmd.name,r.HandleSingleMotorVibrateCmd),r}return a(WeVibe,e),WeVibe.CreateInstance=function(e){return o(this,void 0,void 0,function(){return n(this,function(t){return[2,new WeVibe(e)]})})},WeVibe.DeviceInfo=new s.BluetoothDeviceInfo(["4 Plus","Ditto","Nova","Wish","Pivot","Verge","Cougar"],["f000bb03-0451-4000-b000-000000000000"],{tx:"f000c000-0451-4000-b000-000000000000",rx:"f000b000-0451-4000-b000-000000000000"},WeVibe.CreateInstance),WeVibe}(i.ButtplugBluetoothDevice);t.WeVibe=u}})});
//# sourceMappingURL=buttplug.min.js.map